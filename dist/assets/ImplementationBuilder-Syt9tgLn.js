import{a6 as Rt,a7 as At,al as Ft,am as w,a9 as p,af as d,ac as n,ao as B,aa as s,aM as Lt,aq as G,ar as V,a8 as b,ae as ue,ab as P,ag as f,Q as c,aJ as K,ah as y,az as I,aS as Ve,a4 as L,ap as ot,ai as J,aA as nt,aL as Oe,a3 as st,E as Mt,au as Ue,T as r,ak as qt,aB as Q,ax as O,U as H,O as _t,ay as M}from"./index-BmmqEUwr.js";import{Q as D,u as Et}from"./dark-mode-CG8Py2TO.js";import{Q as $t,L as jt}from"./ListQTable-CU9pwRms.js";import{Q as me,i as rt,j as zt,k as Kt,l as Ht,d as Wt}from"./QStepper-DsgEjJ3h.js";import{Q as X,C as x}from"./ClosePopup-Dl7x5pRy.js";import{Q as pe}from"./QChip-CEk8Ad1K.js";import{a as Zt}from"./QMarkupTable-CqW4FPo6.js";import{Q as ce}from"./QCardSection-W7OKuTbN.js";import{Q as fe}from"./QCard-71HNS0Eo.js";import{Q as dt}from"./QToggle-CHdCZyvb.js";import{Q as Yt,a as ee}from"./QTabs-DrxItm6K.js";import{Q as ge}from"./QSkeleton-Coym0GAQ.js";import{a as Jt}from"./searchStore-B6YwqjjR.js";import{a as Xt}from"./ImplementationType-Dd5P1cJ-.js";import{P as xt}from"./Product-16REYmVE.js";import{S as el}from"./Service-Dd59kM5u.js";import{S as tl}from"./ServiceBundle-CyCxQ6nM.js";import{I as ll}from"./ImplementationTask-B4ZVP5rL.js";import{S as al}from"./Skill-CtDXFUdv.js";import{C as il,c as ol,e as nl}from"./ImplementationGuidelineServiceBundle-D79rFp7b.js";import{C as sl}from"./ImplementationType-aXnGwqPq.js";import{M as rl,C as dl}from"./ImplementationGuideline-DV4J2rvb.js";import{u as ul}from"./use-quasar-jxPryvnm.js";import{M as ml}from"./ImplementationTask-ShA95Ftl.js";import{I as ut}from"./Introspection-BfTNXc1Q.js";import{P as pl}from"./ProjectProcess-DU9BtHvy.js";import{S as cl}from"./SkillCategory-DMKbWYsW.js";import"./use-key-composition-DGnxYdx2.js";import"./index-DO6kqxPy.js";import"./parser-4S4bR1x6.js";import"./QSelect-BiYUipAn.js";import"./QItemLabel-Da11J6wT.js";import"./QDialog-DNaj6pyy.js";import"./QPagination-BPciSIuB.js";import"./QSeparator-DcnsD_Wj.js";import"./QSlideTransition-BcQffVlC.js";import"./touch-BjYP5sR0.js";import"./QResizeObserver-Dl2MazeZ.js";const fl=At({name:"SowBuilder",components:{ListQTable:jt},props:{sow:{type:Object,required:!0},goToSowSection:{type:Function,default:()=>{}}},setup(t){const o=Wt();st(()=>{console.log(o.pushNewResponseData,"pushNewResponseData")});const Re=Mt(()=>Et().darkmode),i=Ue({search:"",page:1,servicePage:1,componentSearch:"",showComponentModal:!1,associatedImplementation:{name:"",_id:null},showAddImplementation:!1,impleSearchID:null,impleSearch:null,resetImplementationSearch:!1,implementationCategory:"Managed Services",perPage:15,isOpen1:!1,isOpen2:!1,isOpen3:!1,isOpenProducts:!1,isOpenServices:!1,isOpenBundles:!1,addComponentType:"Product",showProductTable:!1,showServiceTable:!1,showServiceBundleTable:!1,showComponentType:"Skills",isBuilderCreatingImplementation:!1,sowImplementationID:null,disableAttachingToCreatedImplementation:!1,implementationTypeName:null,skillTier:"Tier2",billingUnitType:"Labor",billingFrequency:"One-Time",implementationDescription:null,internalNotes:null,features:null,benefits:null,sowOrder:null,isImplementationDraft:!0,isGuidelineDraft:!0,guidelineName:"Default",guidelineDescription:null,qualificationQuestion:"Default Question",perUnitPricingBasis:"Per Unit",guidelineInternalNotes:null,docURL:null,recommendedBlockHours:0,includeByDefault:!1,selectedGuideline:null,hoveringAddGuideline:!1,showSkillTierDropdown:!1,showBillingUnitTypeDropdown:!1,projectProcessID:null,skillCategoryID:void 0}),Ae=r(window.innerWidth);function Fe(e,l){console.log(e,l,"setShowComponentModal"),l&&(i.associatedImplementation.name=l.Name,i.associatedImplementation._id=l._id),i.showComponentModal="",setTimeout(()=>{i.showComponentModal=e},200)}function te(e){i.showAddImplementation=e,e===!1&&(i.resetImplementationSearch=!0)}const a=r(1),v=r(null);function m(e,l){if(console.log(e,l,"setImplementationType"),l!=="close"&&e!=="close"&&e!=="select"){te(!0),i.impleSearchID=l._id;let u=1;for(let S of l.Name)S>="A"&&S<="Z"&&(u=.9);(l.Name.includes("DEPRECATED")||l.Name.includes("DRAFT"))&&(u=.8),l.Name.length>20?i.impleSearch=l.Name.slice(0,20*u)+"...":i.impleSearch=l.Name,v.value=l,a.value=3}else e==="select"&&(v.value=l)}st(()=>{N.onSetValueCallback(m)});const N=Jt(),ve=qt(),le=r(2222),ye=r(1),{result:ae,loading:mt}=Q(Xt,()=>({first:20,Name:i.search,page:ye.value,ImplementationCategory:i.implementationCategory,sow_idNew:le.value,filterOutSowImplementationTypes:!0})),ke=r([]),he=r([]),be=r([]),ie=r(!1),U=r([]),Le=r(null),Me=r(!1);O(()=>{if(mt.value&&(ie.value=!0),Le.value!==N.search&&(ie.value=!0,U.value=[],Le.value=N.search),ae.value){console.log(ae.value,"implementationTypesData"),ie.value=!1;const e=U.value;U.value=ae.value.ImplementationTypes.data,i.totalPages=ae.value.ImplementationTypes.paginatorInfo.lastPage,Me.value||(Me.value=!0,ke.value=U.value.filter(l=>l.ImplementationCategory==="Managed Services"&&!ke.value.includes(l.Name)).slice(0,3).map(l=>({...l,Name:l.Name.length>20?l.Name.slice(0,20)+"...":l.Name})),he.value=U.value.filter(l=>l.ImplementationCategory==="Consulting"&&!he.value.includes(l.Name)).slice(0,3).map(l=>({...l,Name:l.Name.length>20?l.Name.slice(0,20)+"...":l.Name})),be.value=U.value.filter(l=>l.ImplementationCategory==="AIS Labs"&&!be.value.includes(l.Name)).slice(0,3).map(l=>({...l,Name:l.Name.length>20?l.Name.slice(0,20)+"...":l.Name}))),N.setSpinner(U.value,e)}});function pt(e,l){console.log(e,l,"updateFields"),e==="ProjectProcess"?(i.projectProcessID=l,Be.value=1):e==="ImplementationCategory"&&(i.skillCategoryID=l._id)}const g=Ue([]),W={name:"builderName",required:!0,label:"Name",align:"left",field:e=>e.name??e.Name,format:e=>`${e}`},ct={name:"description",align:"left",label:"Description",field:e=>e.Description??e.description},Z={name:"builderActions",required:!0,label:"Actions",align:"center",field:()=>"View"},Se={name:"isOptional",label:"Is Optional",align:"center",field:e=>e.IsOptional??!1},Te={name:"quantity",label:"Quantity",align:"center",field:e=>e.Quantity??1};H(()=>i.showComponentType,()=>{switch(setTimeout(()=>{},100),i.showComponentType){case"Skills":setTimeout(()=>{g.splice(0,1),g.splice(1,1),g.splice(2,1),g.splice(3,1)},10),setTimeout(()=>{g.splice(0,1,W),g.splice(1,1,{name:"category",align:"left",label:"Category",field:e=>e.CategoryName??"N/A"}),g.splice(2,1,ct),g.splice(3,1,Z)},20);break;case"Implementation Tasks":case"ImplementationTasks":case"Tasks":g.splice(0,1,W),g.splice(1,1,{name:"recurring",align:"left",label:"Is Recurring",field:e=>e.IsRecurring?"Yes":"No"}),g.splice(2,1,{name:"projectProcess",align:"left",label:"Project Process",field:e=>e.ProjectProcess&&e.ProjectProcess.Name}),g.splice(3,1,Z);break;case"Products":g.splice(0,1,W),g.splice(1,1,Se),g.splice(2,1,Te),g.splice(3,1,Z);break;case"Services":g.splice(0,1,W),g.splice(1,1,Se),g.splice(2,1,Te),g.splice(3,1,Z);break;case"Service Bundles":g.splice(0,1,W),g.splice(1,1,Se),g.splice(2,1,Te),g.splice(3,1,Z);break}},{immediate:!0});function ft(e,l,u){console.log(e,l,u,"implementation Created")}const C=r([]);async function we(e){try{console.log(e,"createImplementation");const l={Name:i.implementationTypeName,ImplementationCategory:i.implementationCategory,isDraft:i.isImplementationDraft,Description:i.implementationDescription,feature:i.features,benefit:i.benefits,sow_order:i.sowOrder,InternalNotes:i.internalNotes},{mutate:u}=M(sl),{data:S}=await u(l),T=S.CreateImplementationTypeMutation;console.log(T,"CREATED IMPLE"),C.value.map(h=>{gt(h,T)}),q.notify({message:"Building then Redirecting to "+T.Name,color:"indigo",position:"bottom",loading:!0,timeout:1e4}),setTimeout(()=>{ve.push({name:"ImplementationDetails",params:{id:T._id}})},1e4)}catch(l){console.error(l)}}async function gt(e,l){try{console.log(e,"createGuideline",l);const{mutate:u,onDone:S,error:T}=M(dl);u({Name:e.Name,PerUnitPricingBasis:e.PerUnitPricingBasis,SkillTier:e.SkillTier,BillingUnitType:e.BillingUnitType,RecommendedBlockHours:e.RecommendedBlockHours,Description:e.Description,QualificationQuestion:e.QualificationQuestion,BillingFrequency:e.BillingFrequency,ImplementationType_id:l._id,IncludeByDefault:e.IncludeByDefault,DocURL:e.DocURL,isDraft:e.isDraft,InternalNotes:e.InternalNotes}),S(h=>{console.log(h,"guidelineResult");const k=h.data.CreateImplementationGuidelineMutation;console.log(k,"CREATED GUIDELINE"),C.value.map(j=>{k.Name.includes(j.Name)&&j.relatedItems.length!==0&&j.relatedItems.map(z=>{switch(z.__typename){case"Product":qe(z,k);break;case"Service":_e(z,k);break;case"ServiceBundle":Ee(z,k);break;case"ImplementationTask":$e(z,k);break;case"Skill":je(z,k);break;default:break}})})}),console.log(T,"error on guideline create")}catch(u){console.error(u)}}async function qe(e,l){try{console.log(e,"createSowProduct");const u={product_id:e.autotask_id,implementation_guideline_idNew:l._id,IsOptional:e.IsOptional,quantity:e.Quantity},{mutate:S,onDone:T}=M(il);S(u),T(h=>{console.log(h,"productResult");const k=h.data.CreateImplementationGuidelineProductMutation;console.log(k,"newProduct"),q.notify({message:"Product Added: "+k.Product.name,color:"primary",position:"bottom",icon:"done"})})}catch(u){console.error(u)}}async function _e(e,l){try{console.log(l,"createService guideline");const u={service_id:e.autotask_id,implementation_guideline_idNew:l._id,IsOptional:e.IsOptional,Quantity:e.Quantity},{mutate:S,error:T,onDone:h}=M(ol);S(u),h(k=>{console.log(k,"serviceResult");const j=k.data.CreateImplementationGuidelineServiceMutation;console.log(j,"newService"),q.notify({message:"Service Added: "+j.Service.name,color:"primary",position:"bottom",icon:"done"})}),console.log(T,"error")}catch(u){console.error(u)}}async function Ee(e,l){try{const u={service_bundle_id:e.autotask_id,implementation_guideline_idNew:l._id,IsOptional:e.IsOptional,Quantity:e.Quantity},{mutate:S,onDone:T}=M(nl);S(u),T(h=>{console.log(h,"serviceBundleResult");const k=h.data.CreateImplementationGuidelineServiceBundleMutation;console.log(k,"newService"),q.notify({message:"ServiceBundle Added: "+k.ServiceBundle.name,color:"primary",position:"bottom",icon:"done"})})}catch(u){console.error(u)}}async function $e(e,l){try{console.log(l,"createImplementationTask guideline");const u={_id:e._id,action:"add",_ids:[l._id],relatedModel:"ImplementationGuideline"},{mutate:S,onDone:T}=M(ml);S(u),T(h=>{console.log(h,"IMPLEMNENATATION TASK RESULT");const k=h.data.ManageRelationshipsImplementationTaskMutation;console.log(k,"newTask"),q.notify({message:"Task Added: "+k.Name,color:"primary",position:"bottom",icon:"done"})})}catch(u){console.error(u)}}async function je(e,l){try{console.log(l,"createImplementationTask guideline");const u={_id:l._id,action:"add",relatedModel:"Skill",ids:e.autotask_id},{mutate:S,onDone:T}=M(rl);S(u),T(h=>{console.log(h,"SKILL RESULT");const k=h.data.ManageRelationshipsImplementationGuidelineMutation;q.notify({message:"Skill Attached to: "+k.Name,color:"primary",position:"bottom",icon:"done"})})}catch(u){console.error(u)}}const q=ul(),vt=r({guidelines:[],products:[],services:[],serviceBundles:[]}),Ie=r(1),Ce=r(1),Ne=r(1);function yt(e){console.log(e,"setPage"),a.value===2?ye.value=e:i.showComponentType==="Products"?Ie.value=e:i.showComponentType==="Services"?Ce.value=e:i.showComponentType==="Service Bundles"?Ne.value=e:i.showComponentType==="Implementation Tasks"?Be.value=e:i.showComponentType==="Skills"&&(Ze.value=e)}H(()=>i.componentSearch,()=>{Ie.value=1,Ce.value=1,Ne.value=1}),H(()=>i.search,()=>{ye.value=1});const R=r([]),A=r([]),F=r([]),_=r([]),E=r([]),{result:oe}=Q(xt,()=>({first:15,name:i.componentSearch,page:Ie.value,sow_idNew:le.value,filterOutAllSowProducts:!0,orderBy:[{column:"SOW_COUNT",order:"DESC"}]})),kt=r(0),Pe=r([]);O(()=>{oe.value&&(console.log(oe.value.Products.data,"productsData"),Pe.value=oe.value.Products.data.map(e=>{const l=R.value.find(u=>u.autotask_id===e.autotask_id);return l?{...e,isSelected:r(!0),Quantity:1,relatedGuideline:l.relatedGuideline,IsOptional:r(!1),PriceOverride:l.PriceOverride,showEditingType:r("optional"),showQuantityPopup:r(!1),showOptionalPopup:r(!1)}:{...e,isSelected:r(!1),relatedGuideline:"",IsOptional:r(!1),Quantity:1,PriceOverride:r(e.unitPrice),showEditingType:r("optional"),showQuantityPopup:r(!1),showOptionalPopup:r(!1)}}),kt.value=oe.value.Products.paginatorInfo.lastPage)});const{result:ne}=Q(el,()=>({first:15,name:i.componentSearch,page:Ce.value,sow_idNew:le.value,filterOutAllSowServices:!0,orderBy:[{column:"SOW_COUNT",order:"DESC"}]})),Qe=r([]),ze=r(0);O(()=>{ne.value&&(console.log(ne.value.Services.data,"servicesData"),Qe.value=ne.value.Services.data.map(e=>{const l=A.value.find(u=>u.autotask_id===e.autotask_id);return l?{...e,isSelected:r(!0),Quantity:l.Quantity,PriceOverride:l.PriceOverride,relatedGuideline:l.relatedGuideline,showEditingType:r("optional"),IsOptional:r(!1)}:{...e,isSelected:r(!1),Quantity:r(1),PriceOverride:r(e.unitPrice),IsOptional:r(!1),relatedGuideline:"",showEditingType:r("optional")}}),ze.value=ne.value.Services.paginatorInfo.lastPage)});const{result:se}=Q(tl,()=>({first:15,name:i.componentSearch,page:Ne.value,sow_idNew:le.value,filterOutAllSowServiceBundles:!0,orderBy:[{column:"SOW_COUNT",order:"DESC"}]})),De=r([]),Ke=r(0);O(()=>{se.value&&(console.log(se.value.ServiceBundles.data,"serviceBundlesData"),De.value=se.value.ServiceBundles.data.map(e=>{const l=F.value.find(u=>u.autotask_id===e.autotask_id);return l?{...e,isSelected:r(!0),Quantity:l.Quantity,PriceOverride:l.PriceOverride,relatedGuideline:l.relatedGuideline,IsOptional:r(!1),showEditingType:""}:{...e,isSelected:r(!1),Quantity:r(1),PriceOverride:r(e.unitPrice),relatedGuideline:"",IsOptional:r(!1),showEditingType:""}}),Ke.value=se.value.ServiceBundles.paginatorInfo.lastPage)});const He=r([]),We=r(0),Be=r(1),{result:re}=Q(ll,()=>({first:15,Name:i.componentSearch,page:Be.value,project_process_id:i.projectProcessID}));O(()=>{re.value&&(console.log(re.value.ImplementationTasks.data,"tasksData"),He.value=re.value.ImplementationTasks.data.map(e=>{const l=_.value.find(u=>u._id===e._id);return l?{...e,isSelected:r(!0),relatedGuideline:l.relatedGuideline,Quantity:r(1),PriceOverride:r(e.unitPrice),IsOptional:r(!1),showEditingType:"",name:e.Name}:{...e,isSelected:r(!1),relatedGuideline:"",Quantity:r(1),PriceOverride:r(0),IsOptional:r(!1),showEditingType:"",name:e.Name}}),We.value=re.value.ImplementationTasks.paginatorInfo.lastPage)});const Ze=r(1),{result:de}=Q(al,()=>({first:15,name:i.componentSearch,page:Ze.value,categoryID:i.skillCategoryID})),Ye=r([]),Je=r(0);O(()=>{de.value&&(console.log(de.value,"skillsData"),Ye.value=de.value.Skills.data.map(e=>{const l=E.value.find(u=>u.autotask_id===e.autotask_id);return l?{...e,isSelected:r(!0),relatedGuideline:l.relatedGuideline}:{...e,isSelected:r(!1),relatedGuideline:""}}),Je.value=de.value.Skills.paginatorInfo.lastPage)});const ht=_t("formatTotal"),bt=Ue([{name:"builderName",align:"left",label:"Name",field:e=>e.Name||e.name?e.Name??e.name:e.SkillName,format:e=>`${e}`,sortable:!0},{name:"priceOverride",required:!0,label:"Unit Price",align:"left",field:e=>ht(e.PriceOverride),format:e=>`${e}`,sortable:!0},{name:"quantity",required:!0,label:"Quantity",align:"left",field:e=>e.Quantity??1,format:e=>`${e}`},{name:"periodType",required:!0,label:"Period Type",align:"left",field:e=>e.PeriodType==="m"?"Monthly":e.PeriodType==="y"?"Yearly":e.PeriodType==="o"?"One-Time":e.PeriodType??e.PeriodTypeName,format:e=>`${e}`,sortable:!0}]),$=r([]);O(()=>(console.log(i.showComponentType,"computedComponentRows"),i.showComponentType==="Products"?(i.page=1,$.value=Pe.value.map(e=>({...e,showEditingType:r("isOptional"),IsOptional:!1,Quantity:1}))):i.showComponentType==="Services"?(i.totalPages=ze.value,i.page=1,$.value=Qe.value):i.showComponentType==="Service Bundles"?(i.totalPages=Ke.value,i.page=1,$.value=De.value):i.showComponentType==="Implementation Tasks"?(i.totalPages=We.value,i.page=1,$.value=He.value.map(e=>({...e,Name:e.Name,name:e.Name}))):i.showComponentType==="Skills"&&(i.totalPages=Je.value,i.page=1,$.value=Ye.value),console.log("computedComponentRows",i.showComponentType),[]),{immediate:!0});const Xe=r(null);function St(e){console.log(e,"createImplementationType"),setTimeout(()=>{R.value=[],A.value=[],F.value=[],_.value=[],E.value=[]},4e3)}function Tt(e){console.log(e,"setSowImplementationID"),i.sowImplementationID=e,we(),setTimeout(()=>{R.value.map(l=>{qe(l)}),A.value.map(l=>{_e(l)}),F.value.map(l=>{Ee(l)}),_.value.map(l=>{$e(l)}),E.value.map(l=>{je(l)})},1e3),Xe.value==="redirect"?setTimeout(()=>{t.goToSowSection("implementations")},2e3):Xe.value==="another"&&setTimeout(()=>{a.value=1},3e3)}function wt(e){console.log(e,"setSelectedRow"),e.isSelected===!0?(e.isSelected=!1,Ct(e)):(e.isSelected=!0,It({...e,relatedGuideline:i.selectedGuideline.Name}))}function It(e){console.log("addRowToSelected",e),e.__typename==="Product"?R.value.push(e):e.__typename==="Service"?A.value.push(e):e.__typename==="ServiceBundle"?F.value.push(e):e.__typename==="ImplementationTask"?_.value.push(e):e.__typename==="Skill"&&E.value.push(e),C.value.map(l=>{l.Name===i.selectedGuideline.Name&&l.relatedItems.push({...e,isSelected:!0,hovering:!1})}),console.log(e,"addRowToSelected",C.value,"implementationGuidelines")}function Ct(e){console.log("row removeRowFromSelected",e),C.value.map(l=>{l.Name===i.selectedGuideline.Name&&l.relatedItems.splice(l.relatedItems.findIndex(u=>u._id===e._id),1)}),e.relatedItems=[],e.__typename==="Product"?R.value.splice(R.value.findIndex(l=>l.autotask_id===e.autotask_id),1):e.__typename==="Service"?A.value.splice(A.value.findIndex(l=>l.autotask_id===e.autotask_id),1):e.__typename==="ServiceBundle"?F.value.splice(F.value.findIndex(l=>l.autotask_id===e.autotask_id),1):e.__typename==="ImplementationTask"?_.value.splice(_.value.findIndex(l=>l._id===e._id),1):e.__typename==="Skill"&&E.value.splice(E.value.findIndex(l=>l.autotask_id===e.autotask_id),1)}function Nt(e){console.log(e,"updateAttachedComponent"),C.value.find(l=>l.Name===i.selectedGuideline.Name).relatedItems.map(l=>{l._id===e._id&&(l.Quantity=e.Quantity,l.IsOptional=e.IsOptional)}),e.__typename==="Product"?R.value.map(l=>{l.autotask_id===e.autotask_id&&(l.Quantity=e.Quantity,l.IsOptional=e.IsOptional)}):e.__typename==="Service"?A.value.map(l=>{l.autotask_id===e.autotask_id&&(l.Quantity=e.Quantity,l.IsOptional=e.IsOptional)}):e.__typename==="ServiceBundle"&&F.value.map(l=>{l.autotask_id===e.autotask_id&&(l.Quantity=e.Quantity,l.IsOptional=e.IsOptional)})}function Pt(e){console.log(e,"skipImplementationStep"),e==="Hardware"?i.showComponentType="Products":e==="Service"&&(i.showComponentType="Services"),a.value=4}function xe(e){console.log(e,"addGuideline"),C.value.push({Name:i.guidelineName,Description:i.guidelineDescription,PerUnitPricingBasis:i.perUnitPricingBasis,InternalNotes:i.guidelineInternalNotes,DocURL:i.docURL,RecommendedBlockHours:i.recommendedBlockHours,SkillTier:i.skillTier,BillingUnitType:i.billingUnitType,BillingFrequency:i.billingFrequency,IncludeByDefault:i.includeByDefault,isDraft:i.isGuidelineDraft,QualificationQuestion:i.qualificationQuestion,relatedItems:r([]),editingField:r("")}),i.guidelineName="",i.guidelineDescription="",i.perUnitPricingBasis="Per Unit",i.guidelineInternalNotes="",i.docURL="",i.recommendedBlockHours=0,i.skillTier="Tier2",i.billingUnitType="Labor",i.billingFrequency="One-Time",i.includeByDefault=!1,i.isGuidelineDraft=!0,i.qualificationQuestion=""}function Qt(e){console.log(e,"removeGuideline"),C.value.splice(C.value.findIndex(l=>l._id===e._id),1)}function Dt(e){let l=[];return e.originalKey==="IsDraft"?l=[{icon:"check_circle",label:"Active",color:"green",handler:()=>{i.editingField=""}},{icon:"cancel",label:"Draft",color:"red",handler:()=>{i.editingField=""}}]:e.originalKey==="ImplementationCategory"?l=[{label:"AIS Labs",handler:()=>{i.editingField="",i.implementationCategory="AIS Labs"}},{label:"Consulting",handler:()=>{i.editingField="",i.implementationCategory="Consulting"}},{label:"Managed Services",handler:()=>{i.editingField="",i.implementationCategory="Managed Services"}}]:e.originalKey==="BillingFrequency"?l=[{label:"One-Time",handler:()=>{i.editingField=""}},{label:"Monthly",handler:()=>{i.editingField=""}},{label:"Annual",handler:()=>{i.editingField=""}}]:e.originalKey==="SkillTier"?l=[{label:"Tier 1",handler:()=>{i.editingField="",i.skillTier="Tier1"}},{label:"Tier 2",handler:()=>{i.editingField="",i.skillTier="Tier2"}},{label:"Tier 3",handler:()=>{i.editingField="",i.skillTier="Tier3"}},{label:"Project Manager",handler:()=>{i.editingField="",i.skillTier="ProjectManager"}},{label:"Consultant",handler:()=>{i.editingField="",i.skillTier="Consultant"}},{label:"After Hours",handler:()=>{i.editingField="",i.skillTier="AfterHours"}},{label:"Infrastructure",handler:()=>{i.editingField="",i.skillTier="Infrastructure"}}]:e.originalKey==="BillingUnitType"?l=[{label:"Labor",handler:()=>{i.editingField=""}},{label:"Non Labor",handler:()=>{i.editingField=""}}]:e.originalKey==="TaskType"&&(l=[{label:"Labor",handler:()=>{i.editingField=""}},{label:"Non Labor",handler:()=>{i.editingField=""}}]),l}function Bt(){console.log("createImplementationWithGuidelines"),we()}function Gt(){console.log("createImplementationWithRelationships"),we()}function Vt(e){if(e.__typename==="Product")return"green-7";if(e.__typename==="Service")return"yellow-10";if(e.__typename==="ServiceBundle")return"red-5";if(e.__typename==="ImplementationTask")return"primary";if(e.__typename==="Skill")return"indigo"}H(()=>a.value,()=>{console.log(a.value,"step"),a.value===4&&Gt()});function Ot(){C.value.length>0?(i.selectedGuideline=C.value[0],a.value=3):(xe("another"),setTimeout(()=>{i.selectedGuideline=C.value[0],a.value=3},200))}const{result:et}=Q(ut,()=>({name:"ImplementationType"})),{result:tt}=Q(ut,()=>({name:"ImplementationGuideline"})),Y=r([]);H(()=>et.value,()=>{et.value.__type.fields.map(e=>{e.description!==null&&Y.value.push({...e,introspectionType:"ImplementationType"})}),console.log(Y.value,"introspectionImplementationData")}),H(()=>tt.value,()=>{tt.value.__type.fields.map(e=>{e.description!==null&&Y.value.push({...e,introspectionType:"ImplementationGuideline"})}),console.log(Y.value,"introspectionGuidelineData")});const{result:lt}=Q(pl,()=>({first:20})),at=r([]);O(()=>{lt.value&&(at.value=lt.value.ProjectProcesses.data)});const{result:it}=Q(cl,()=>({name:""})),Ge=r([]);O(()=>{it.value&&(Ge.value=it.value.SkillCategories.data,console.log(Ge.value,"skillCategories"))});function Ut(e){console.log(e,"setSearchInput"),i.componentSearch=e}return{state:i,setShowComponentModal:Fe,setShowImpleModal:te,searchOptions:N,implementationTypes:U,isLoadingImplementationTypes:ie,updateFields:pt,columns:g,darkmode:Re,setImplementationType:m,pushNewResponseData:ft,excludedItems:vt,setPage:yt,products:Pe,services:Qe,serviceBundles:De,componentColumns:bt,step:a,computedComponentRows:$,createImplementationType:St,setSelectedRow:wt,setSowImplementationID:Tt,updateAttachedComponent:Nt,windowWidth:Ae,managedServicesImplementations:ke,consultingImplementations:he,aisLabsImplementations:be,skipImplementationStep:Pt,selectedImplementation:v,implementationGuidelines:C,addGuideline:xe,removeGuideline:Qt,computedDropdownList:Dt,createImplementationWithGuidelines:Bt,computedColor:Vt,nextStepComponentRelations:Ot,introspect:Y,projectProcesses:at,setSearchInput:Ut,skillCategories:Ge}}}),gl={class:"responsive-table-container mb-10 w-[70vw]"},vl={class:"flex items-center"},yl={class:"flex w-full mb-4",style:{"flex-basis":"fit-content"}},kl={class:"flex justify-end"},hl={class:"mr-2"},bl=["fill"],Sl={class:"grid grid-cols-2 gap-10"},Tl={class:"relative"},wl={class:"absolute right-3 top-3.5 italic"},Il={style:{"white-space":"pre-line"}},Cl={class:"relative mb-3"},Nl={class:"absolute right-3 top-3.5 italic"},Pl={style:{"white-space":"pre-line"}},Ql={class:"grid grid-cols-2 gap-10 mb-3"},Dl={class:"relative"},Bl={class:"absolute right-3 top-3.5 italic"},Gl={style:{"white-space":"pre-line"}},Vl={class:"relative"},Ol={class:"absolute right-3 top-3.5 italic"},Ul={style:{"white-space":"pre-line"}},Rl={class:"flex mb-4 w-3/4"},Al={style:{"white-space":"pre-line"}},Fl={class:"grid grid-cols-3 gap-10 -mt-8 mb-3"},Ll=["onClick"],Ml={class:"text-slate-500 hover:text-slate-300 italic"},ql={class:"text-white"},_l=["onClick"],El={class:"text-slate-500 italic hover:text-slate-300"},$l={class:"text-white"},jl={class:"flex justify-start"},zl={class:"-mt-5 w-full flex justify-end"},Kl={class:"text-weight-medium cursor-pointer"},Hl={class:"text-slate-400 italic mr-1"},Wl={class:"text-white"},Zl={class:"text-weight-medium mb-1 cursor-pointer"},Yl={class:"text-slate-400 italic mr-1"},Jl={class:"text-white"},Xl={class:"flex justify-center h-full items-center -mt-5 py-2"},xl={class:"grid grid-cols-2 gap-5"},ea={style:{"white-space":"pre-line"}},ta={class:"grid grid-cols-2 gap-5"},la={class:"relative"},aa={class:"absolute right-3 top-3.5 italic"},ia={style:{"white-space":"pre-line"}},oa={class:"relative mb-3"},na={class:"absolute right-3 top-3.5 italic"},sa={style:{"white-space":"pre-line"}},ra={class:"grid grid-cols-3 gap-5"},da={style:{"white-space":"pre-line"}},ua={style:{"white-space":"pre-line"}},ma={style:{"white-space":"pre-line"}},pa={class:"flex justify-end"},ca={class:"grid grid-cols-3 gap-5"},fa={class:"text-weight-bold -mb-1",style:{"letter-spacing":"0.75px"}},ga={class:"italic"},va={key:0,class:"flex justify-center items-center dark:text-slate-500 mt-1"},ya={class:"flex flex-wrap mt-1"},ka={class:"grid grid-cols-3 gap-1"},ha={class:"flex w-full"},ba={class:"col-span-2 flex items-center justify-center"},Sa={class:"grid grid-cols-2 gap-5 mt-4"},Ta={class:"flex justify-end absolute bottom-3 right-3 w-full"};function wa(t,o,Re,i,Ae,Fe){const te=Ft("ListQTable");return p(),w("div",gl,[d("div",vl,[o[31]||(o[31]=d("p",{class:"dark:text-slate-300 text-lg text-weight-medium"}," Implementation Type Builder ",-1)),n(B,{icon:"help",target:"_blank",color:"blue-grey-7",glossy:"",class:"rounded-full ml-10",href:"https://aislabs.atlassian.net/wiki/spaces/DT/pages/797278356/Implementation+Builder"})]),n(Ht,{modelValue:t.step,"onUpdate:modelValue":o[30]||(o[30]=a=>t.step=a),"header-nav":"",color:"primary",animated:"",class:ue(["dark:bg-[#28334E] mt-5 relative z-20",{"shadow-none":t.step===2||t.step===3||t.step===4,"shadow-md":t.step===1||t.step===5}]),dark:t.darkmode,dense:"",contracted:t.windowWidth<800},{default:s(()=>[n(me,{name:1,title:t.state.implementationTypeName??"Add Implementation",icon:"settings",done:t.step>1,"header-nav":t.step>1},{default:s(()=>[d("div",yl,[n(D,{modelValue:t.state.implementationTypeName,"onUpdate:modelValue":o[0]||(o[0]=a=>t.state.implementationTypeName=a),filled:"",dense:"",class:"w-1/2 pr-5",dark:t.darkmode,label:"Name *"},null,8,["modelValue","dark"]),d("div",kl,[n(Lt,{class:"w-full grid grid-cols-3 ml-5 -mr-5"},{default:s(()=>[(p(!0),w(G,null,V(t.computedDropdownList({originalKey:"ImplementationCategory"}),(a,v)=>(p(),b(B,{key:v,"no-caps":"",class:ue([t.state.implementationCategory===a.label?"text-white":t.darkmode?"text-grey-1":"text-grey-9","flex items-center border rounded-md pl-2"]),color:t.state.implementationCategory===a.label?"primary":"dark",onClick:m=>t.state.implementationCategory=a.label},{default:s(()=>[d("p",hl,f(a.label),1),a.label==="Consulting"?(p(),b(c,{key:0,name:"engineering",color:t.state.implementationCategory===a.label?"white":"primary",size:"sm"},null,8,["color"])):P("",!0),a.label==="Managed Services"?(p(),b(c,{key:1,name:"hub",color:t.state.implementationCategory===a.label?"white":"primary",size:"xs"},null,8,["color"])):P("",!0),a.label==="AIS Labs"?(p(),w("svg",{key:2,xmlns:"http://www.w3.org/2000/svg",height:"23px",width:"23px",fill:t.state.implementationCategory===a.label?"#ffffff":"#1976D2",viewBox:"0 -960 960 960"},[...o[32]||(o[32]=[d("path",{d:"M200-120q-51 0-72.5-45.5T138-250l222-270v-240h-40q-17 0-28.5-11.5T280-800q0-17 11.5-28.5T320-840h320q17 0 28.5 11.5T680-800q0 17-11.5 28.5T640-760h-40v240l222 270q32 39 10.5 84.5T760-120H200Zm80-120h400L544-400H416L280-240Zm-80 40h560L520-492v-268h-80v268L200-200Zm280-280Z"},null,-1)])],8,bl)):P("",!0)]),_:2},1032,["class","color","onClick"]))),128))]),_:1})])]),o[38]||(o[38]=d("hr",{class:"dark:border-slate-500 my-2"},null,-1)),d("div",Sl,[d("div",Tl,[n(K,{modelValue:t.state.implementationDescription,"onUpdate:modelValue":o[1]||(o[1]=a=>t.state.implementationDescription=a),dense:"",flat:"",dark:t.darkmode,class:"mt-2","min-height":"5rem",placeholder:"Description","max-height":"7rem","content-class":"w-[60vw] h-10 bg-slate-100 dark:bg-[#38415A]","toolbar-text-color":"white","toolbar-toggle-color":"black-1","toolbar-bg":"primary",toolbar:[["bold","italic","underline","unordered","ordered","outdent","indent"]]},null,8,["modelValue","dark"]),d("p",wl,[o[33]||(o[33]=y(" Description ",-1)),n(c,{name:"help",size:"xs",class:"text-slate-300 hover:text-blue-400 ml-2"},{default:s(()=>[n(I,{class:"text-sm shadow-md border"},{default:s(()=>[d("p",Il,f(t.introspect.find(a=>a.name==="Description"&&a.introspectionType==="ImplementationType").description),1)]),_:1})]),_:1})])]),d("div",Cl,[n(K,{modelValue:t.state.internalNotes,"onUpdate:modelValue":o[2]||(o[2]=a=>t.state.internalNotes=a),dense:"",flat:"",dark:t.darkmode,class:"mt-2","min-height":"5rem",placeholder:"Internal Notes","max-height":"7rem","content-class":"w-[60vw] h-10 bg-slate-100 dark:bg-[#38415A]","toolbar-text-color":"white","toolbar-toggle-color":"black-1","toolbar-bg":"primary",toolbar:[["bold","italic","underline","unordered","ordered","outdent","indent"]]},null,8,["modelValue","dark"]),d("p",Nl,[o[34]||(o[34]=y(" Internal Notes ",-1)),n(c,{name:"help",size:"xs",class:"text-slate-300 hover:text-blue-400 ml-2"},{default:s(()=>[n(I,{class:"text-sm shadow-md border"},{default:s(()=>[d("p",Pl,f(t.introspect.find(a=>a.name==="InternalNotes").description),1)]),_:1})]),_:1})])])]),d("div",Ql,[d("div",Dl,[n(K,{modelValue:t.state.features,"onUpdate:modelValue":o[3]||(o[3]=a=>t.state.features=a),dense:"",flat:"",dark:t.darkmode,class:"mt-2","min-height":"5rem",placeholder:"Features","max-height":"7rem","content-class":"w-[60vw] h-10 bg-slate-100 dark:bg-[#38415A]","toolbar-text-color":"white","toolbar-toggle-color":"black-1","toolbar-bg":"primary",toolbar:[["bold","italic","underline","unordered","ordered","outdent","indent"]]},null,8,["modelValue","dark"]),d("p",Bl,[o[35]||(o[35]=y(" Features ",-1)),n(c,{name:"help",size:"xs",class:"text-slate-300 hover:text-blue-400 ml-2"},{default:s(()=>[n(I,{class:"text-sm shadow-md border"},{default:s(()=>[d("p",Gl,f(t.introspect&&t.introspect.find(a=>a.name==="feature").description),1)]),_:1})]),_:1})])]),d("div",Vl,[n(K,{modelValue:t.state.benefits,"onUpdate:modelValue":o[4]||(o[4]=a=>t.state.benefits=a),dense:"",flat:"",dark:t.darkmode,class:"mt-2","min-height":"5rem",placeholder:"Benefits","max-height":"7rem","content-class":"w-[60vw] h-10 bg-slate-100 dark:bg-[#38415A]","toolbar-text-color":"white","toolbar-toggle-color":"black-1","toolbar-bg":"primary",toolbar:[["bold","italic","underline","unordered","ordered","outdent","indent"]]},null,8,["modelValue","dark"]),d("p",Ol,[o[36]||(o[36]=y(" Benefits ",-1)),n(c,{name:"help",size:"xs",class:"text-slate-300 hover:text-blue-400 ml-2"},{default:s(()=>[n(I,{class:"text-sm shadow-md border"},{default:s(()=>[d("p",Ul,f(t.introspect.find(a=>a.name==="benefit").description),1)]),_:1})]),_:1})])])]),d("div",Rl,[n(D,{modelValue:t.state.sowOrder,"onUpdate:modelValue":o[5]||(o[5]=a=>t.state.sowOrder=a),modelModifiers:{number:!0},type:"number",filled:"",dense:"",dark:t.darkmode,class:"my-2 w-1/3 mr-10 text-white",label:"SOW Order"},{append:s(()=>[n(c,{name:"help",size:"xs",class:"text-slate-500 absolute right-3 hover:text-blue-400"},{default:s(()=>[n(I,{class:"text-sm shadow-md border"},{default:s(()=>[d("p",Al,f(t.introspect.find(a=>a.name==="sow_order").description),1)]),_:1})]),_:1})]),_:1},8,["modelValue","dark"]),n($t,{modelValue:t.state.isImplementationDraft,"onUpdate:modelValue":o[6]||(o[6]=a=>t.state.isImplementationDraft=a),dark:"",class:"my-2 ml-2 ml-10",filled:"",dense:"","left-label":"",label:"Is Draft"},null,8,["modelValue"])]),n(B,{label:"Next","no-caps":"",class:"absolute right-6 bottom-5",color:"primary",disable:t.state.implementationTypeName===null||t.state.implementationCategory===null,onClick:o[7]||(o[7]=()=>{t.done1=!0,t.step=2})},{default:s(()=>[t.state.implementationTypeName===null||t.state.implementationCategory===null?(p(),b(I,{key:0,class:"text-sm bg-white shadow-md border text-slate-600 hover:text-blue-400"},{default:s(()=>[...o[37]||(o[37]=[y(" The Name field is required ",-1)])]),_:1})):P("",!0)]),_:1},8,["disable"])]),_:1},8,["title","done","header-nav"]),n(me,{name:2,title:"Add Guidelines",icon:"create_new_folder",done:t.step>1,"header-nav":t.step>1||t.state.implementationTypeName!==null&&t.state.implementationCategory!==null},{default:s(()=>[n(rt,null,{default:s(()=>[d("div",Fl,[(p(!0),w(G,null,V(t.implementationGuidelines,(a,v)=>(p(),b(fe,{key:v,dark:t.darkmode,class:"shadow-lg bg-[#354161]"},{default:s(()=>[n(ce,{class:""},{default:s(()=>[a.editingField!=="Name"?(p(),w("p",{key:0,class:"text-weight-medium cursor-pointer",onClick:m=>a.editingField="Name"},[d("span",Ml,[o[39]||(o[39]=y("Name ",-1)),n(c,{class:"mx-1",name:"edit"})]),d("span",ql,f(a.Name),1)],8,Ll)):a.editingField==="Name"?(p(),b(D,{key:1,modelValue:a.Name,"onUpdate:modelValue":m=>a.Name=m,label:"Name",dark:t.darkmode,class:"-mt-3 -mb-3",dense:"",autofocus:"",counter:"",onKeyup:Ve(m=>a.editingField="",["enter"]),onBlur:m=>a.editingField=""},null,8,["modelValue","onUpdate:modelValue","dark","onKeyup","onBlur"])):P("",!0),a.editingField!=="Question"?(p(),w("p",{key:2,class:"text-weight-medium mb-1 cursor-pointer",onClick:m=>a.editingField="Question"},[d("span",El,[o[40]||(o[40]=y("Question ",-1)),n(c,{class:"mx-1",name:"edit"})]),d("span",$l,f(a.QualificationQuestion),1)],8,_l)):a.editingField==="Question"?(p(),b(D,{key:3,modelValue:a.QualificationQuestion,"onUpdate:modelValue":m=>a.QualificationQuestion=m,label:"Qualification Question",dark:t.darkmode,class:"-mb-3",dense:"",autofocus:"",counter:"",onKeyup:Ve(m=>a.editingField="",["enter"]),onBlur:m=>a.editingField=""},null,8,["modelValue","onUpdate:modelValue","dark","onKeyup","onBlur"])):P("",!0),d("div",jl,[n(pe,{class:"text-white",color:"primary",clickable:"",onClick:o[9]||(o[9]=m=>t.state.showBillingFrequencyDropdown=!0)},{default:s(()=>[n(c,{name:"construction",class:"mr-2"}),y(f(a.BillingUnitType)+" ",1),L(n(ot,{onHide:o[8]||(o[8]=m=>t.state.showBillingFrequencyDropdown=!1)},{default:s(()=>[n(X,{dark:t.darkmode,class:"dark:bg-[#354161]"},{default:s(()=>[(p(!0),w(G,null,V(t.computedDropdownList({originalKey:"BillingUnitType"}),(m,N)=>L((p(),b(J,{key:N,class:"flex items-center",clickable:"",onClick:ve=>a.BillingUnitType=m.label},{default:s(()=>[d("p",null,f(m.label),1)]),_:2},1032,["onClick"])),[[x]])),128))]),_:2},1032,["dark"])]),_:2},1536),[[nt,t.state.showBillingFrequencyDropdown]])]),_:2},1024),n(pe,{class:"text-white",color:"indigo-7",clickable:"",onClick:o[11]||(o[11]=m=>t.state.showSkillTierDropdown=!0)},{default:s(()=>[n(c,{name:"cases",class:"mr-2"}),y(f(a.SkillTier)+" ",1),L(n(ot,{onHide:o[10]||(o[10]=m=>t.state.showSkillTierDropdown=!1)},{default:s(()=>[n(X,{dark:t.darkmode,class:"dark:bg-[#354161]"},{default:s(()=>[(p(!0),w(G,null,V(t.computedDropdownList({originalKey:"SkillTier"}),(m,N)=>L((p(),b(J,{key:N,clickable:"",class:"flex items-center",onClick:ve=>a.SkillTier=m.label},{default:s(()=>[d("p",null,f(m.label),1)]),_:2},1032,["onClick"])),[[x]])),128))]),_:2},1032,["dark"])]),_:2},1536),[[nt,t.state.showSkillTierDropdown]])]),_:2},1024),n(pe,{class:"text-white",color:"green-6",clickable:""},{default:s(()=>[n(c,{name:"schedule",class:"mr-2"}),y(f((a.RecommendedBlockHours??0)+" hrs.")+" ",1),n(Zt,{modelValue:t.label,"onUpdate:modelValue":o[12]||(o[12]=m=>t.label=m),class:"bg-primary text-white"},{default:s(m=>[n(D,{modelValue:a.RecommendedBlockHours,"onUpdate:modelValue":N=>a.RecommendedBlockHours=N,modelModifiers:{number:!0},dark:"",type:"number",color:"white",dense:"",autofocus:"",counter:"",onKeyup:Ve(m.set,["enter"])},{append:s(()=>[n(c,{name:"schedule"})]),_:1},8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue"])]),_:2},1024)])]),_:2},1024),d("div",zl,[n(B,{label:"Remove",flat:"",dense:"","no-caps":"",color:"red",class:"pr-3",icon:"remove",onClick:m=>t.removeGuideline(a)},null,8,["onClick"])])]),_:2},1032,["dark"]))),128)),n(fe,{class:ue(["shadow-none border-2 border-dashed mt-0 border-blue-500 hover:bg-[#354161] transition-all duration-500 text-slate-400 hover:text-slate-200 shadow-sm hover:shadow-lg",t.state.guidelineName!==""&&t.state.qualificationQuestion!==""?"cursor-pointer":""]),dark:t.darkmode,onClick:o[13]||(o[13]=()=>t.state.guidelineName!==""&&t.state.qualificationQuestion!==""?t.addGuideline("another"):null)},{default:s(()=>[n(ce,{class:"h-full"},{default:s(()=>[t.state.guidelineName===""||t.state.qualificationQuestion===""?(p(),b(I,{key:0,class:"text-sm bg-white shadow-md border text-slate-600 hover:text-blue-400"},{default:s(()=>[...o[41]||(o[41]=[y(" Fill out required fields Name and Qualification Question ",-1)])]),_:1})):P("",!0),d("p",Kl,[d("span",Hl,[o[42]||(o[42]=y("Name ",-1)),n(c,{class:"mx-1",name:"edit"})]),d("span",Wl,f(t.state.guidelineName??"N/A"),1)]),d("p",Zl,[d("span",Yl,[o[43]||(o[43]=y("Question ",-1)),n(c,{class:"mx-1",name:"edit"})]),d("span",Jl,f(t.state.qualificationQuestion??"N/A"),1)]),d("div",Xl,[n(c,{name:"add",class:"mr-1"}),d("p",null," Attach "+f(t.implementationGuidelines.length>=1?"Another":"")+" Guideline ",1)])]),_:1})]),_:1},8,["dark","class"])]),d("div",xl,[n(D,{modelValue:t.state.guidelineName,"onUpdate:modelValue":o[14]||(o[14]=a=>t.state.guidelineName=a),filled:"",dense:"",dark:t.darkmode,class:"my-2",label:"Name *"},null,8,["modelValue","dark"]),n(D,{modelValue:t.state.qualificationQuestion,"onUpdate:modelValue":o[15]||(o[15]=a=>t.state.qualificationQuestion=a),filled:"",dense:"",dark:t.darkmode,class:"my-2",label:"Qualification Question *"},{append:s(()=>[n(c,{name:"help",size:"xs",class:"text-slate-500 absolute right-3 hover:text-blue-400"},{default:s(()=>[n(I,{class:"text-sm shadow-md border"},{default:s(()=>[d("p",ea,f(t.introspect.find(a=>a.name==="QualificationQuestion").description),1)]),_:1})]),_:1})]),_:1},8,["modelValue","dark"])]),o[48]||(o[48]=d("hr",{class:"dark:border-slate-600 my-2"},null,-1)),d("div",ta,[d("div",la,[n(K,{modelValue:t.state.guidelineDescription,"onUpdate:modelValue":o[16]||(o[16]=a=>t.state.guidelineDescription=a),dense:"",flat:"",dark:t.darkmode,class:"mt-2","min-height":"5rem",placeholder:"Description","max-height":"7rem","content-class":"w-[60vw] h-10 bg-slate-100 dark:bg-[#38415A]","toolbar-text-color":"white","toolbar-toggle-color":"black-1","toolbar-bg":"primary",toolbar:[["bold","italic","underline","unordered","ordered","outdent","indent"]]},null,8,["modelValue","dark"]),d("p",aa,[o[44]||(o[44]=y(" Description ",-1)),n(c,{name:"help",size:"xs",class:"text-slate-300 hover:text-blue-400 ml-2"},{default:s(()=>[n(I,{class:"text-sm shadow-md border"},{default:s(()=>[d("p",ia,f(t.introspect.find(a=>a.name==="Description"&&a.introspectionType==="ImplementationGuideline").description),1)]),_:1})]),_:1})])]),d("div",oa,[n(K,{modelValue:t.state.guidelineInternalNotes,"onUpdate:modelValue":o[17]||(o[17]=a=>t.state.guidelineInternalNotes=a),dense:"",flat:"",dark:t.darkmode,class:"mt-2","min-height":"5rem",placeholder:"Internal Notes","max-height":"7rem","content-class":"w-[60vw] h-10 bg-slate-100 dark:bg-[#38415A]","toolbar-text-color":"white","toolbar-toggle-color":"black-1","toolbar-bg":"primary",toolbar:[["bold","italic","underline","unordered","ordered","outdent","indent"]]},null,8,["modelValue","dark"]),d("p",na,[o[45]||(o[45]=y(" Internal Notes ",-1)),n(c,{name:"help",size:"xs",class:"text-slate-300 hover:text-blue-400 ml-2"},{default:s(()=>[n(I,{class:"text-sm shadow-md border"},{default:s(()=>[d("p",sa,f(t.introspect.find(a=>a.name==="InternalNotes").description),1)]),_:1})]),_:1})])])]),d("div",ra,[n(D,{modelValue:t.state.perUnitPricingBasis,"onUpdate:modelValue":o[18]||(o[18]=a=>t.state.perUnitPricingBasis=a),filled:"",dense:"",dark:t.darkmode,class:"my-2",label:"Per Unit Pricing Basis *"},{append:s(()=>[n(c,{name:"help",size:"xs",class:"text-slate-500 absolute right-3 hover:text-blue-400"},{default:s(()=>[n(I,{class:"text-sm shadow-md border"},{default:s(()=>[d("p",da,f(t.introspect.find(a=>a.name==="PerUnitPricingBasis").description),1)]),_:1})]),_:1})]),_:1},8,["modelValue","dark"]),n(D,{modelValue:t.state.docURL,"onUpdate:modelValue":o[19]||(o[19]=a=>t.state.docURL=a),filled:"",dense:"",dark:t.darkmode,class:"my-2",label:"Documentation URL"},{append:s(()=>[n(c,{name:"help",size:"xs",class:"text-slate-500 absolute right-3 hover:text-blue-400"},{default:s(()=>[n(I,{class:"text-sm shadow-md border"},{default:s(()=>[d("p",ua,f(t.introspect.find(a=>a.name==="DocURL").description),1)]),_:1})]),_:1})]),_:1},8,["modelValue","dark"]),n(D,{modelValue:t.state.recommendedBlockHours,"onUpdate:modelValue":o[20]||(o[20]=a=>t.state.recommendedBlockHours=a),modelModifiers:{number:!0},type:"number",filled:"",dense:"",dark:t.darkmode,class:"my-2",label:"Recommended Block Hours"},{append:s(()=>[n(c,{name:"help",size:"xs",class:"text-slate-500 absolute right-3 hover:text-blue-400"},{default:s(()=>[n(I,{class:"text-sm shadow-md border"},{default:s(()=>[d("p",ma,f(t.introspect.find(a=>a.name==="RecommendedBlockHours").description),1)]),_:1})]),_:1})]),_:1},8,["modelValue","dark"])]),n(Oe,{filled:"",label:"Skill Tier: "+t.state.skillTier,dark:"",class:"my-2 mr-5",color:"primary","no-caps":""},{default:s(()=>[n(X,{dark:t.darkmode,class:"dark:bg-[#354161]"},{default:s(()=>[(p(!0),w(G,null,V(t.computedDropdownList({originalKey:"SkillTier"}),(a,v)=>L((p(),b(J,{key:v,clickable:"",class:"flex items-center",onClick:m=>t.state.skillTier=a.label},{default:s(()=>[d("p",null,f(a.label),1)]),_:2},1032,["onClick"])),[[x]])),128))]),_:1},8,["dark"])]),_:1},8,["label"]),n(Oe,{filled:"",label:"Billing Unit Type: "+t.state.billingUnitType,dark:"",class:"my-2 mr-5",color:"primary","no-caps":""},{default:s(()=>[n(X,{dark:t.darkmode,class:"dark:bg-[#354161]"},{default:s(()=>[(p(!0),w(G,null,V(t.computedDropdownList({originalKey:"BillingUnitType"}),(a,v)=>L((p(),b(J,{key:v,class:"flex items-center",clickable:"",onClick:m=>t.state.billingUnitType=a.label},{default:s(()=>[d("p",null,f(a.label),1)]),_:2},1032,["onClick"])),[[x]])),128))]),_:1},8,["dark"])]),_:1},8,["label"]),n(Oe,{filled:"",label:"Billing Frequency: "+t.state.billingFrequency,dark:"",class:"my-2 mr-5",color:"primary","no-caps":""},{default:s(()=>[n(X,{dark:t.darkmode,class:"dark:bg-[#354161]"},{default:s(()=>[(p(!0),w(G,null,V(t.computedDropdownList({originalKey:"BillingFrequency"}),(a,v)=>L((p(),b(J,{key:v,class:"flex items-center",clickable:"",onClick:m=>t.state.billingFrequency=a.label},{default:s(()=>[d("p",null,f(a.label),1)]),_:2},1032,["onClick"])),[[x]])),128))]),_:1},8,["dark"])]),_:1},8,["label"]),n(dt,{modelValue:t.state.includeByDefault,"onUpdate:modelValue":o[21]||(o[21]=a=>t.state.includeByDefault=a),filled:"",dense:"",dark:t.darkmode,class:"my-2",label:"Include By Default"},null,8,["modelValue","dark"]),n(dt,{modelValue:t.state.isGuidelineDraft,"onUpdate:modelValue":o[22]||(o[22]=a=>t.state.isGuidelineDraft=a),filled:"",dense:"",dark:"",class:"my-2 ml-5",label:"Is Draft"},null,8,["modelValue"]),d("div",pa,[n(B,{label:"Add "+t.state.implementationTypeName+" Implementation","no-caps":"",color:"teal",class:"mt-5 mr-5",icon:"add",onClick:t.createImplementationWithGuidelines},null,8,["label","onClick"]),n(B,{label:"Add Guideline","no-caps":"",disable:t.state.guidelineName===null||t.state.qualificationQuestion===null||t.state.perUnitPricingBasis===null||t.state.perUnitPricingBasis===""||t.state.guidelineName===""||t.state.qualificationQuestion==="",glossy:"",color:"primary",class:"mt-5",icon:"add",onClick:o[23]||(o[23]=a=>t.addGuideline("another"))},{default:s(()=>[t.state.guidelineName===null||t.state.qualificationQuestion===null||t.state.perUnitPricingBasis===null||t.state.perUnitPricingBasis===""||t.state.guidelineName===""||t.state.qualificationQuestion===""?(p(),b(I,{key:0,class:"text-sm bg-white shadow-md border text-slate-600 hover:text-blue-400"},{default:s(()=>[...o[46]||(o[46]=[y(" Must fill out Name, Qualification Question, and Per Unit Pricing Basis ",-1)])]),_:1})):P("",!0)]),_:1},8,["disable"]),n(B,{disable:t.implementationGuidelines.length===0&&t.state.guidelineName===""&&t.state.qualificationQuestion==="",label:"Next","no-caps":"",glossy:"",color:"primary",class:"mt-5 ml-5",icon:"arrow_forward",onClick:t.nextStepComponentRelations},{default:s(()=>[t.implementationGuidelines.length===0&&t.state.guidelineName===""&&t.state.qualificationQuestion===""?(p(),b(I,{key:0,class:"text-sm bg-white shadow-md border text-slate-600 hover:text-blue-400"},{default:s(()=>[...o[47]||(o[47]=[y(" Must fill out Name and Qualification Question ",-1)])]),_:1})):P("",!0)]),_:1},8,["disable","onClick"])])]),_:1})]),_:1},8,["done","header-nav"]),n(me,{name:3,title:"Attach Component Relations",icon:"post_add",dense:"","no-caps":"",done:t.step>2,"header-nav":t.step>2,class:"mb-10 -mt-10 p-0"},{default:s(()=>[n(rt,null,{default:s(()=>[n(Yt,{modelValue:t.state.showComponentType,"onUpdate:modelValue":o[24]||(o[24]=a=>t.state.showComponentType=a),"inline-label":"",dense:"",class:"bg-primary text-white shadow-2 p-0 -ml-6 -mr-6 -mt-2","no-caps":""},{default:s(()=>[n(ee,{name:"Skills"},{default:s(()=>[n(c,{name:"layers",class:"mr-2",color:"indigo-11"}),o[49]||(o[49]=y(" Skills ",-1))]),_:1}),n(ee,{name:"Implementation Tasks"},{default:s(()=>[n(c,{name:"layers",class:"mr-2",color:"blue-3"}),o[50]||(o[50]=y(" Tasks ",-1))]),_:1}),n(ee,{name:"Products"},{default:s(()=>[n(c,{name:"layers",class:"mr-2",color:"green-5"}),o[51]||(o[51]=y(" Products ",-1))]),_:1}),n(ee,{name:"Services"},{default:s(()=>[n(c,{name:"layers",class:"mr-2",color:"yellow-8"}),o[52]||(o[52]=y(" Services ",-1))]),_:1}),n(ee,{name:"Service Bundles"},{default:s(()=>[n(c,{name:"layers",class:"mr-2",color:"deep-orange-12"}),o[53]||(o[53]=y(" Service Bundles ",-1))]),_:1})]),_:1},8,["modelValue"]),d("div",ca,[(p(!0),w(G,null,V(t.implementationGuidelines,a=>(p(),b(fe,{key:a._id,class:ue(["shadow-none border-2 border-dashed mt-5",t.state.selectedGuideline.Name===a.Name?"border-blue-500":"border-slate-500 hover:border-blue-400 cursor-pointer"]),dark:t.darkmode,onClick:v=>t.state.selectedGuideline=a},{default:s(()=>[n(ce,{class:"pt-2 pb-2"},{default:s(()=>[d("p",fa,f(a.name??a.Name),1),d("p",ga,f(a.QualificationQuestion),1),a.relatedItems.length===0?(p(),w("div",va,[n(c,{name:"add",class:"mr-1"}),o[54]||(o[54]=d("p",null,"Select to Attach Items",-1))])):P("",!0),d("div",ya,[(p(!0),w(G,null,V(a.relatedItems,v=>(p(),w("div",{key:v._id,class:""},[n(pe,{color:t.computedColor(v),class:"text-white break-all animate__animated animate__zoomIn truncate",label:v.name??v.Name,style:{"animation-duration":"0.25s","max-width":"14rem"},clickable:"",removable:"",onRemove:()=>{a.relatedItems.find(m=>m._id===v._id||m.autotask_id===v.autotask_id).isSelected=!0,t.setSelectedRow({...v,isSelected:!0})}},null,8,["color","label","onRemove"])]))),128))])]),_:2},1024)]),_:2},1032,["dark","class","onClick"]))),128)),t.implementationGuidelines.length<=2?(p(),b(fe,{key:0,dark:t.darkmode,class:"shadow-lg bg-[#354161] mt-5 cursor-pointer active:scale-[1.03]",onMouseenter:o[25]||(o[25]=a=>t.state.hoveringAddGuideline=!0),onMouseleave:o[26]||(o[26]=a=>t.state.hoveringAddGuideline=!1),onClick:o[27]||(o[27]=a=>t.step=2)},{default:s(()=>[n(ce,{class:"text-white"},{default:s(()=>[d("div",ka,[d("div",ha,[n(ge,{animation:t.state.hoveringAddGuideline?"pulse":"none",class:"h-3 mb-2 w-full cursor-pointer"},null,8,["animation"]),n(ge,{animation:t.state.hoveringAddGuideline?"pulse":"none",class:"h-3 w-full cursor-pointer"},null,8,["animation"])]),d("div",ba,[n(c,{name:"add",class:"mr-1",color:t.state.hoveringAddGuideline?"grey-3":"blue-grey-10",size:"md"},null,8,["color"]),o[55]||(o[55]=d("p",{class:"text-slate-300"},"Add Guideline",-1))])]),d("div",Sa,[n(ge,{animation:t.state.hoveringAddGuideline?"pulse":"none",class:"w-full h-6 rounded-full cursor-pointer"},null,8,["animation"]),n(ge,{animation:t.state.hoveringAddGuideline?"pulse":"none",class:"w-full h-6 rounded-full cursor-pointer"},null,8,["animation"])])]),_:1})]),_:1},8,["dark"])):P("",!0)]),o[56]||(o[56]=d("hr",{class:"dark:border-slate-600 mt-3 -mb-[2rem] z-10 relative"},null,-1)),n(te,{title:"Attach "+t.state.showComponentType,rows:t.computedComponentRows,columns:t.columns,handleRowClick:t.setSelectedRow,filterOptions:t.filterOptions,stateValue:t.state,setPage:t.setPage,loading:t.state.searchLoading,updateFields:t.updateFields,class:"shadow-none -ml-6 -mr-6",setSelectedRow:t.setSelectedRow,dense:"",fadeInAnimation:!1,searchableQuery:t.projectProcesses,"search-input":"",setSearchInput:t.setSearchInput,updateComponent:t.updateAttachedComponent,selectedParentItem:t.state.selectedGuideline,dropdownList:t.skillCategories,selectedRelatedItems:t.implementationGuidelines.find(a=>a.Name===t.state.selectedGuideline.Name).relatedItems},null,8,["title","rows","columns","handleRowClick","filterOptions","stateValue","setPage","loading","updateFields","setSelectedRow","searchableQuery","setSearchInput","updateComponent","selectedParentItem","dropdownList","selectedRelatedItems"]),d("div",Ta,[n(B,{label:"Back",color:"red","no-caps":"",flat:"",onClick:o[28]||(o[28]=()=>{t.step=2})}),n(B,{label:"Create","no-caps":"",color:"primary",class:"mx-5",icon:"add",onClick:o[29]||(o[29]=()=>{t.done3=!0,t.step=4})})])]),_:1})]),_:1},8,["done","header-nav"]),n(me,{name:4,title:"Save",icon:"library_add",class:"py-10",done:t.step>3,"header-nav":t.step>1},{default:s(()=>[n(zt,{showing:!0,dark:t.darkmode},{default:s(()=>[n(Kt,{size:"50px",color:"primary"})]),_:1},8,["dark"])]),_:1},8,["done","header-nav"])]),_:1},8,["modelValue","class","dark","contracted"])])}const ri=Rt(fl,[["render",wa]]);export{ri as default};
