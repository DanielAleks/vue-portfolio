import{a6 as we,a7 as Me,a8 as g,a9 as s,aa as y,ab as p,am as r,ac as c,af as k,ao as b,ae as D,ap as ie,ai as T,ad as S,ah as m,ag as v,aq as B,ar as H,a4 as oe,aR as E,Q as K,az as te,bj as Te,aS as Se,aJ as Ne,an as Ae,aj as Le,E as R,O as j,au as re,T as N,U as O}from"./index-DlQ8tVOz.js";import{Q as de,C as ue}from"./ClosePopup-WKUFvClg.js";import{Q as Re}from"./QCardSection-C1H36PMc.js";import{Q as Ve}from"./QCardActions-YMlVNL1k.js";import{Q as ye}from"./QCard-Cs9621IB.js";import{Q as $e}from"./QDialog-1bsBaQz_.js";import{Q as A}from"./QSkeleton-Dg5Bz9Qg.js";import{Q as pe,u as Be}from"./dark-mode-C5mcaMLC.js";import{Q as He}from"./QFile-Cv-ueZ0J.js";import{Q as Qe}from"./QToggle-Uap1FPWi.js";const Pe=[{Name:"Information",value:0},{Name:"Low",value:1},{Name:"Medium",value:2},{Name:"High",value:0},{Name:"Critical",value:0}],Ue=Me({props:{response:{type:Object,required:!0},updateResponse:{type:Function,default:()=>{}},editableFields:{type:Array,default:()=>[1,2,3,4,5]},type:{type:String,default:()=>{}},introspectionValue:{type:Array,default:()=>[]},cancelEditing:{type:Boolean,default:!1},removeOptions:{type:Array,default:()=>[]},showSettings:{type:Boolean,default:!1},customDirective:{type:String,default:"N/A"},setWhichFieldEditing:{type:Function,default:()=>{}},isLoading:{type:Boolean,default:!0},dynamicDropdownOptions:{type:Array,default:()=>[]}},setup(l){const i=Le(),z=R(()=>i.params.id),q=j("formatDateUnix"),G=j("formatTotal"),W=R(()=>Be().darkmode);function e(o){if(o){var u=o.substring(0,4),d=o[5]==="0"?o[6]:o.substring(5,7),t=o[8]==="0"?o[9]:o.substring(8,10),C=d+"/"+t+"/"+u;return C}else return"N/A"}const M=R(()=>i.path.includes("type/detail")||i.path.includes("type/task")||i.path.includes("type/guideline")||i.path.includes("requirement")),a=re({editMode:!1,editingField:"",confirmDelete:!1,showModal:!1}),I=N(l.isLoading);O(()=>l.isLoading,()=>{I.value=l.isLoading,I.value||l.editableFields&&l.response&&Object.keys(l.response).forEach(o=>{(l.editableFields.includes(o)||o==="sow_order"||o==="ImplementationCategory")&&(w[o]=l.response[o])})},{immediate:!0});function Y(o){o==="close"?a.showModal=!1:a.showModal=o}const w=re({});O(()=>l.cancelEditing,()=>{l.cancelEditing&&(a.editingField="")});const Z=["Targets","start_time","end_time","macaddress","config","InternalNotes","PerUnitPricingBasis","Name"],Q=N(l.editableFields);O(()=>l.response,()=>{I.value=l.isLoading,Q.value=l.response});const J=R(()=>{const o=["ImplementationGuidelineServiceBundles","ImplementationGuidelines","__typename","Products","Services","ServiceBundles","ImpGuidelineSubtotal","CategoryID","phaseID","id","_id","project_process_id","ImplementationGuidelineIDs","skill_id","SowId","ImplementationGuidelineProducts","ImplementationGuidelineServices","ImplementationTasks","ImplementationType_id","AdminImplementationGuidelines","AdminImplementationTasks","Skills","Requirements","Total","Question","created_at","updatedAt","created_by","updated_by","sow_guideline_id","requirement_id","S3Url","Task","Target","VulnerabilityScan","AccountSchedule","ImplementationTaskRequirements","SubjectMatterExpertName"],u=["CorporateDomainList","text_Response","IsDeprecatedReason"],d=["IsActive"],t=["Duration","Percent","UnitCost","TotalPrice","TotalCost"],C=["ImplementationCategory","BillingFrequency","SkillTier","BillingUnitType","TaskType","fileOriginalName"],x=["sendReportForApprovalLink","sendReportToClientLink","startDiscoveryLink","startScanLink","Download","AutotaskLink"];l.introspectionValue&&(console.log(l.introspectionValue,"introspectionValue"),l.introspectionValue.map(n=>{if(!n.name.includes("Confluence")){let f=n.type.name;f==="Boolean"?d.push(n.name):f==="Int"||f==="Float"?t.push(n.name):f==="String"&&u.push(n.name)}}));const Ce=Q.value?Object.entries(Q.value).map(([n,f])=>{let h=typeof f;d.includes(n)?h="boolean":t.includes(n)?h="number":C.includes(n)?h="option":x.includes(n)?h="link":typeof f=="string"||n==="Description"||n==="InternalNotes"||u.includes(n)?h="string":typeof f=="boolean"?h="boolean":typeof f=="number"&&(h="number");const $=n==="ID"?"ID":n.replace(/([A-Z])/g," $1").trim();let F=f;typeof f=="string"&&!n.includes("at")&&n!=="RequirementId"&&n!=="ID"&&!x.includes(n)&&n!=="DocURL"&&n!=="fileOriginalName"&&!Z.includes(n)&&(/\d/.test(f)?(F=f.replace(/([A-Z])/g," $1").trim(),F=F.replace(/(\D)(\d)/g,"$1 $2")):f===f.toUpperCase()&&!f.includes(" ")&&n!=="SkillName"&&n!=="Name"&&(F=f));const L=[{convertedName:"Project Phase",originalName:"ProjectProcessName"},{convertedName:"Recommended Hours",originalName:"RecommendedBlockHours"},{convertedName:"SOW Count",originalName:"sow_count"}];return{key:L.map(U=>U.originalName).join(" ")===n?L.find(U=>U.originalName===n).convertedName:$,value:F!=="ID"&&F!=="Targets"?F:"ID",originalKey:n,type:h}}):[],ee=["Name","Category","Description","PeriodType","text_Response","fileOriginalName","disoveryCompleted","discoveryStarted","reportSentForApproval","reportApproved","reportSent","discoveryStarted","mautic_submissions_id","ScanStatus"],le=["BlockHours","RecommendedBlockHours","MedianActualHours","MedianHoursWorked","Question","QualificationQuestion","isDraft","IsDeprecated","IsDeprecatedReason","ScanCompleted","ScanStatusPercent","LastReportDate","benefit","feature","Position","sow_order","sow_count","LastReportScanDuration","LastScanResultCount","LastScanErrorCount","LastDiscoveryScanDuration","LastScanError"],ae=Ce.sort((n,f)=>{const h=ee.indexOf(n.key),$=ee.indexOf(f.key),F=le.includes(n.originalKey),L=le.includes(f.originalKey);return F&&!L?1:!F&&L?-1:h===-1?1:$===-1?-1:h-$}),ne=ae.filter(n=>n.key.includes("Date")||n.originalKey.includes("sow_order")||n.key.includes("benefit")||n.key.includes("feature")||n.key.includes("DocURL")),se=ae.filter(n=>!n.key.includes("Date")&&!n.key.includes("_at")&&!o.includes(n.originalKey)&&!n.originalKey.includes("sow_order")&&!n.key.includes("benefit")&&!n.key.includes("feature")&&!n.key.includes("DocURL"));return ne.map(n=>{(n.key==="id"||n.key==="Requirement ID")&&(n.key="ID"),n.key==="ProjectProcessName"&&(n.key="Project Phase"),n.key==="created_at"&&(n.key="Created At"),n.key==="updated_at"&&(n.key="Updated At"),n.key==="sow_order"&&(n.key="SOW Order"),n.originalKey==="DocURL"&&(n.key="Documentation URL")}),se.map(n=>{n.originalKey==="DocURL"&&(n.key="Documentation URL"),n.originalKey==="text_Response"&&(n.key="Text Response"),n.originalKey==="sow_count"&&(n.key="SOW Count"),n.originalKey==="RecommendedBlockHours"&&(n.key="Recommended Hours")}),[...se,...ne]}),ge=["AIS Labs","Consulting","Managed Services"];function ce(o){let u=[];function d({item:t,value:C}){a.editingField="",w[o.originalKey]=C,V({scope:"single",item:t})}return o.originalKey==="ImplementationCategory"?u=[{label:"AIS Labs",handler:t=>d({item:t,value:"AIS Labs"})},{label:"Consulting",handler:t=>d({item:t,value:"Consulting"})},{label:"Managed Services",handler:t=>d({item:t,value:"Managed Services"})}]:o.originalKey==="BillingFrequency"?u=[{label:"One-Time",handler:t=>d({item:t,value:"One-Time"})},{label:"Monthly",handler:t=>d({item:t,value:"Monthly"})},{label:"Annual",handler:t=>d({item:t,value:"Annual"})}]:o.originalKey==="SkillTier"?u=[{label:"Tier 1",handler:t=>d({item:t,value:"Tier1"})},{label:"Tier 2",handler:t=>d({item:t,value:"Tier2"})},{label:"Tier 3",handler:t=>d({item:t,value:"Tier3"})},{label:"Project Manager",handler:t=>d({item:t,value:"ProjectManager"})},{label:"Consultant",handler:t=>d({item:t,value:"Consultant"})},{label:"After Hours",handler:t=>d({item:t,value:"AfterHours"})},{label:"Infrastructure",handler:t=>d({item:t,value:"Infrastructure"})}]:o.originalKey==="BillingUnitType"?u=[{label:"Labor",handler:t=>d({item:t,value:"Labor"})},{label:"Non Labor Only",handler:t=>d({item:t,value:"NonLaborOnly"})}]:o.originalKey==="TaskType"&&(u=[{label:"Labor",handler:t=>d({item:t,value:"Labor"})},{label:"Non Labor",handler:t=>d({item:t,value:"NonLabor"})}]),u}function V({scope:o,item:u}){if(console.log("saveChanges",o,u),o==="single"&&!a.editMode)Object.entries(w).map(([d,t])=>{if(d===u.originalKey){let C=t;t==="True"?C=!0:t==="False"&&(C=!1),l.updateResponse({[d]:C}),X(u.originalKey)}});else if(o==="multiple"){const d={};l.editableFields.forEach(t=>{d[t]=w[t]}),l.updateResponse(d),a.editingField="",a.editMode=!1}}const X=o=>{a.editingField="",V({scope:"single",item:{key:o,value:w[o]}})},P=N([]),_=o=>{setTimeout(()=>{P.value[o]&&P.value[o].focus()},300)};function fe({operation:o,value:u,index:d,originalKey:t}){l.editableFields&&l.editableFields.length!==0&&(o==="single"&&l.editableFields.includes(t)?(a.editingField=u,_(d),l.setWhichFieldEditing(u)):o==="multi"&&(a.editMode=u))}const ke=o=>u=>{P.value[o]=u,a.editingField===o&&_(o)};function ve(o,u){o.key==="Enter"&&o.shiftKey||o.key==="Enter"&&V({scope:"single",item:u})}const be=R(()=>l.response.Description!==null&&l.response.Description!==""&&l.response.Description!==void 0?l.response.Description.replace(/\n/g,"<br/>"):"N/A");function me(o,u){w[u]=o}function Ke(o){J.value.map(u=>{if(u.key==="tooltips")return o.value})}const he=j("windowWidth"),De=N(null);function Fe(){let o=N(null),u=N("");switch(console.log(i,"route"),!0){case(i.path.includes("/implementation-type/detail")||i.path.includes("/implementation-type/guideline")||i.path.includes("/implementation-type/task")):l.introspectionValue.map(d=>{d.name.includes("Confluence")&&window.open(d.description,"_blank")});break;case i.path.includes("requirement"):u.value="Requirement",o.value=257982493,window.open(`https://aislabs.atlassian.net/wiki/spaces/IT/pages/${o.value}/${u.value}`,"_blank")}}function Ie(o,u){console.log("updateEditorValue",o),w[u.originalKey]=o}return{formattedResponse:J,routeID:z,formatDate:e,formatTotal:G,state:a,implementationCategory:ge,computedDropdownList:ce,saveChanges:V,inputValues:w,handleBlur:X,inputRef:ke,setEditMode:fe,handleKeyDown:ve,descriptionHtml:be,setTrixData:me,computedTooltip:Ke,windowWidth:he,setShowModal:Y,PriorityLevels:Pe,formatDateUnix:q,darkmode:W,doNotFormatSpacing:Z,isHoveringItem:De,goToConfluence:Fe,loading:I,updateEditorValue:Ie,isAdminRoute:M}}}),Ee={class:"capitalize"},je={class:"q-ml-sm text-center mt-3"},Oe={class:"text-weight-medium text-primary"},ze={style:{"border-radius":"5px"}},qe={style:{},class:"intro-y box"},Ge={key:0,class:"capitalize"},We={style:{"white-space":"pre-line"}},Ye={key:1},Ze={key:6,class:"relative"},Je={key:9,class:"mr-0 sm:mr-10 flex items-center"},Xe={key:11,class:"mt-3 sm:mt-0 w-40 flex"},_e={key:12,class:"col-span-2 mt-3 sm:mt-0"},xe={key:1,class:"flex justify-end my-2"},el=["onClick","onMouseover"],ll=["innerHTML"],al=["innerHTML"],nl=["innerHTML"],sl=["onMouseover"],il=["onClick"],ol=["onClick","onMouseover"],tl={key:1},rl={key:16},dl=["onMouseover"],ul=["onClick"],yl={key:0},pl={key:1},gl=["href"],cl={key:0,class:"flex items-center justify-end"},fl={key:2,class:"py-2 grid grid-cols-1 md:grid-cols-2 mr-10 pl-5"},kl={class:"grid grid-cols-2"},vl={key:0,class:"text-weight-regular dark:text-slate-300"},bl={class:"flex md:flex-nowrap items-center relative"},ml={key:0,class:"text-weight-regular mr-5 dark:text-slate-300"},Kl={class:"grid grid-cols-2"},hl={class:"-mr-4 md:mr-0"},Dl={key:0,class:"text-weight-regular dark:text-slate-300"},Fl={class:"flex md:flex-nowrap items-center relative -mr-4 md:mr-0"},Il={key:0,class:"text-weight-regular mr-5 dark:text-slate-300"};function Cl(l,i,z,q,G,W){return s(),g(ye,{class:D(["intro-y box animate__animated animate__fadeIn",l.darkmode?"bg-[#28334E]":"bg-white"])},{default:y(()=>[l.editableFields||l.showSettings||l.dynamicDropdownOptions?(s(),g(b,{key:0,class:D(["absolute right-0 rounded-full p-2 mr-3 mt-1 settings",l.darkmode?"text-slate-300":""]),round:"",flat:"",icon:"more_vert",dense:"",size:"md"},{default:y(()=>[c(ie,{cover:"","auto-close":""},{default:y(()=>[c(de,null,{default:y(()=>[l.editableFields||l.showSettings?(s(),g(T,{key:0,clickable:"",onClick:i[0]||(i[0]=e=>l.setEditMode({operation:"multi",value:!l.state.editMode}))},{default:y(()=>[c(S,null,{default:y(()=>[m(v(l.state.editMode?"Cancel":"Edit"),1)]),_:1})]),_:1})):p("",!0),!l.removeOptions.includes("delete")&&(l.editableFields||l.showSettings)?(s(),g(T,{key:1,clickable:"",onClick:i[1]||(i[1]=e=>l.state.confirmDelete=!0)},{default:y(()=>[c(S,null,{default:y(()=>[...i[14]||(i[14]=[m("Delete",-1)])]),_:1})]),_:1})):p("",!0),l.type==="ImplementationType"||l.type==="ImplementationGuideline"||l.type==="ImplementationTask"||l.type==="Requirement"?(s(),g(T,{key:2,clickable:"",onClick:i[2]||(i[2]=e=>l.setShowModal(!0))},{default:y(()=>[c(S,null,{default:y(()=>[...i[15]||(i[15]=[m("Hierarchy",-1)])]),_:1})]),_:1})):p("",!0),l.type==="ImplementationType"||l.type==="ImplementationGuideline"||l.type==="ImplementationTask"||l.type==="Requirement"?(s(),g(T,{key:3,clickable:"",onClick:l.goToConfluence},{default:y(()=>[c(S,null,{default:y(()=>[...i[16]||(i[16]=[m("Confluence",-1)])]),_:1})]),_:1},8,["onClick"])):p("",!0),(s(!0),r(B,null,H(l.dynamicDropdownOptions,(e,M)=>(s(),g(T,{key:M,clickable:"",onClick:a=>e.handler()},{default:y(()=>[c(S,null,{default:y(()=>[m(v(e.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["class"])):p("",!0),l.response&&(l.response.__typename==="service"||l.response.__typename==="ServiceBundle"||l.response.__typename==="product")&&l.windowWidth>400?(s(),r("div",{key:1,class:D(["absolute right-0 bottom-0 pl-2 pt-1 pr-2 mr-0 mb-3 w-28 italic text-weight-medium",l.darkmode?"bg-[#28334E] text-slate-300":"bg-white text-slate-500"])},[k("span",Ee,v(l.response.__typename),1),i[17]||(i[17]=m("s can only be edited in Autotask ",-1))],2)):p("",!0),c($e,{modelValue:l.state.confirmDelete,"onUpdate:modelValue":i[4]||(i[4]=e=>l.state.confirmDelete=e)},{default:y(()=>[c(ye,{style:{background:"white"},class:"min-w-[15rem]"},{default:y(()=>[c(Re,{class:"flex flex-col items-center"},{default:y(()=>[i[19]||(i[19]=k("p",{class:"text-xl"},"Are you sure?",-1)),k("p",je,[m(v(l.response.__typename)+": ",1),k("span",Oe,v(l.response.Name?l.response.Name:l.response.FullName),1),i[18]||(i[18]=m(" will be deleted. ",-1))])]),_:1}),c(Ve,{align:"right"},{default:y(()=>[oe(c(b,{style:{"font-weight":"400"},"no-caps":"",flat:"",label:"Cancel"},null,512),[[ue]]),oe(c(b,{style:{"font-weight":"500"},"no-caps":"",class:"mr-5",label:"Delete",color:"red-5",onClick:i[3]||(i[3]=e=>l.updateResponse(0,"delete"))},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),k("div",ze,[k("div",qe,[(s(!0),r(B,null,H(l.formattedResponse,(e,M)=>(s(),r("div",{key:M,class:"flex flex-col px-5 py-2 border-b border-slate-200/60 dark:border-slate-600/60"},[k("div",{class:D(["grid grid-cols-2 sm:grid-cols-3 items-center gap-0 sm:gap-x-7 md:gap-x-5",l.darkmode?"text-[#CBD5E1]":""])},[!/\d/.test(e.key)&&!l.loading?(s(),r("p",Ge,[m(v(e.key==="id"?"ID":(e.key==="feature"||e.key==="benefit",e.key))+" ",1),l.introspectionValue&&l.introspectionValue.some(a=>a.name===e.originalKey&&a.description)?(s(),g(K,{key:0,name:"help",size:"xs",class:"ml-4 text-slate-500 hover:text-blue-400 transition-all duration-500"},{default:y(()=>[c(te,{class:"text-sm bg-white shadow-md border text-slate-600 hover:text-blue-400"},{default:y(()=>[k("p",We,v(l.introspectionValue.map(a=>{if(a.name===e.originalKey)return a.description}).join("")),1)]),_:2},1024)]),_:2},1024)):p("",!0)])):l.loading?p("",!0):(s(),r("p",Ye,v(e.value??l.customDirective),1)),l.loading?(s(),g(A,{key:2,class:"h-3 w-1/2","animation-speed":600+50*M},null,8,["animation-speed"])):p("",!0),l.state.editingField===e.key&&(l.state.editingField==="Skill Name"||l.state.editingField==="Account_uid"||l.state.editingField==="subject Matter Expert"||l.state.editingField==="Project Process"||l.state.editingField==="Implementation Type")?(s(),g(b,{key:3,icon:"close",color:"red",flat:"",dense:"",size:"sm",class:"absolute right-5",onClick:a=>l.handleBlur(e.originalKey)},null,8,["onClick"])):p("",!0),(l.state.editMode||l.state.editingField==="Skill Name"||l.state.editingField==="Account_uid")&&(e.originalKey==="SkillName"||e.originalKey==="account_uid")?E(l.$slots,"slot1",{key:4}):(l.state.editMode||l.state.editingField==="Project Process"||l.state.editingField==="subject Matter Expert")&&(e.originalKey==="ProjectProcess"||e.originalKey==="subjectMatterExpert")?E(l.$slots,"slot2",{key:5}):(l.state.editMode||l.state.editingField==="Implementation Type")&&e.originalKey==="ImplementationType"?(s(),r("div",Ze,[E(l.$slots,"slot3"),c(K,{name:"error",size:"xs",class:"text-red-500 absolute -right-8 top-3 hover:text-red-400"},{default:y(()=>[c(te,{class:"bg-white dark:bg-slate-500 text-sm text-black dark:text-white border rounded-sm shadow-sm w-80"},{default:y(()=>[...i[20]||(i[20]=[m("Proceed with caution; please generate a new Implementation Guideline instead of editing it's associated Implementation Type.",-1)])]),_:1})]),_:1})])):p("",!0),l.loading?(s(),g(A,{key:7,class:"h-3","animation-speed":500+50*M},null,8,["animation-speed"])):!l.loading&&l.editableFields&&(l.state.editMode||l.state.editingField===e.key)&&l.editableFields.includes(e.originalKey)&&e.key!=="feature"&&e.key!=="benefit"&&e.key!=="Description"&&e.originalKey!=="InternalNotes"&&e.originalKey!=="SkillName"&&e.originalKey!=="ProjectProcess"&&e.type==="string"&&e.originalKey!=="fileOriginalName"&&e.originalKey!=="subjectMatterExpert"&&e.originalKey!=="ImplementationType"?(s(),g(pe,{key:8,ref_for:!0,ref:l.inputRef(e.originalKey),modelValue:l.inputValues[e.originalKey],"onUpdate:modelValue":a=>l.inputValues[e.originalKey]=a,filled:"",dense:"",type:e.key==="config"||e.originalKey==="QualificationQuestion"?"textarea":"text",placeholder:e.value??"N/A",class:D(["col-span-2 mr-10 mt-2 sm:mt-0",l.darkmode?"bg-[#202a46]":""]),dark:l.darkmode,onBlur:a=>l.handleBlur(e.originalKey),onFocusout:a=>l.saveChanges({scope:"single",item:e}),onKeydown:a=>l.handleKeyDown(a,e)},Te({_:2},[e.key!=="Description"&&e.originalKey!=="QualificationQuestion"&&e.originalKey!=="InternalNotes"?{name:"append",fn:y(()=>[c(K,{class:"",name:"edit",size:"xs",color:"blue-grey-3"})]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","type","placeholder","class","dark","onBlur","onFocusout","onKeydown"])):!l.loading&&e.type==="option"&&(l.state.editMode||l.state.editingField===e.key)&&l.editableFields.includes(e.originalKey)?(s(),r("div",Je,[e.originalKey==="fileOriginalName"?(s(),g(He,{key:0,modelValue:l.inputValues[e.originalKey],"onUpdate:modelValue":[a=>l.inputValues[e.originalKey]=a,a=>l.saveChanges({scope:"single",item:e})],label:"Upload Attachment",class:"w-44",dense:"",dark:l.darkmode},{append:y(()=>[c(K,{name:"attach_file"})]),_:1},8,["modelValue","onUpdate:modelValue","dark"])):l.editableFields&&l.editableFields.includes(e.originalKey)?(s(),g(b,{key:1,color:"primary","no-caps":"","icon-right":"expand_more",label:e.value===""||e.value===null?e.key:e.value},{default:y(()=>[c(ie,{cover:"","auto-close":""},{default:y(()=>[(s(!0),r(B,null,H(l.computedDropdownList(e),(a,I)=>(s(),g(de,{key:I},{default:y(()=>[c(T,{class:"hover:bg-gray-100 flex items-center",clickable:"",onClick:Y=>a.handler(e)},{default:y(()=>[a.icon?(s(),g(K,{key:0,name:a.icon,size:"xs",color:a.color??"blue-grey",class:"mr-3"},null,8,["name","color"])):p("",!0),c(S,null,{default:y(()=>[m(v(a.label),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["label"])):p("",!0),l.state.editMode?p("",!0):(s(),g(b,{key:2,icon:"close",flat:"",class:"mt-2 ml-[-.5rem]",color:"red",size:"sm",onClick:i[5]||(i[5]=a=>l.state.editingField="")}))])):!l.loading&&l.editableFields&&(l.state.editMode||l.state.editingField===e.key)&&l.editableFields.includes(e.originalKey)&&e.key!=="feature"&&e.key!=="benefit"&&e.type==="number"?(s(),g(pe,{key:10,ref_for:!0,ref:l.inputRef(e.originalKey),modelValue:l.inputValues[e.originalKey],"onUpdate:modelValue":a=>l.inputValues[e.originalKey]=a,modelModifiers:{number:!0},filled:"",dense:"",type:"number",placeholder:e.value??"N/A",dark:l.darkmode,class:D(l.darkmode?"bg-[#202a46]":""),onBlur:a=>l.handleBlur(e.originalKey),onFocusout:a=>l.saveChanges({scope:"single",item:e}),onKeyup:Se(a=>l.saveChanges({scope:"single",item:e}),["enter"])},{append:y(()=>[c(K,{class:"",name:"edit",size:"xs",color:"blue-grey-3"})]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","dark","class","onBlur","onFocusout","onKeyup"])):!l.loading&&l.editableFields&&(l.state.editMode||l.state.editingField===e.key)&&(l.editableFields.includes(e.originalKey)||e.originalKey==="isDraft"||e.originalKey==="IsDraft"||e.key==="Is Draft")&&e.key!=="feature"&&e.key!=="benefit"&&e.type==="boolean"?(s(),r("div",Xe,[c(Qe,{modelValue:l.inputValues[e.originalKey],"onUpdate:modelValue":a=>l.inputValues[e.originalKey]=a,dense:"",label:e.value?"Yes":"No",onClick:a=>l.saveChanges({scope:"single",item:e})},null,8,["modelValue","onUpdate:modelValue","label","onClick"]),l.state.editMode?p("",!0):(s(),g(b,{key:0,icon:"close",flat:"",class:"mt-1",color:"red",size:"sm",onClick:i[6]||(i[6]=a=>l.state.editingField="")}))])):!l.loading&&l.editableFields&&l.editableFields.includes(e.originalKey)&&(l.state.editingField===e.key||l.state.editMode)&&e.originalKey!=="fileOriginalName"?(s(),r("div",_e,[e.key==="feature"||e.key==="benefit"||e.originalKey==="InternalNotes"||e.key==="Description"?(s(),g(Ne,{key:0,modelValue:l.inputValues[e.originalKey],"onUpdate:modelValue":a=>l.inputValues[e.originalKey]=a,dense:"",flat:"",dark:l.darkmode,class:"mt-4","min-height":"5rem",placeholder:e.key,"max-height":"7rem","content-class":"w-[60vw] h-10 bg-slate-100 dark:bg-[#38415A]","toolbar-text-color":"white","toolbar-toggle-color":"black-1","toolbar-bg":"primary",toolbar:[["bold","italic","underline","unordered","ordered","outdent","indent"]]},null,8,["modelValue","onUpdate:modelValue","dark","placeholder"])):p("",!0),l.state.editMode?p("",!0):(s(),r("div",xe,[c(b,{"no-caps":"",color:"red",label:"Cancel",class:"mr-5",flat:"",onClick:i[7]||(i[7]=a=>l.state.editingField="")}),c(b,{"no-caps":"",color:"primary",label:"Save Changes",icon:"edit",onClick:a=>l.saveChanges({scope:"single",item:e})},null,8,["onClick"])]))])):p("",!0),!l.loading&&(e.key==="feature"||e.key==="benefit"||e.key==="Description"||e.originalKey==="InternalNotes"||e.key==="config")?(s(),r("div",{key:13,class:"col-span-2 cursor-pointer mt-2 sm:mt-0 ml-5 sm:ml-0",onClick:a=>l.setEditMode({operation:"single",value:e.key,originalKey:e.originalKey}),onMouseover:a=>l.isHoveringItem=e.originalKey,onMouseleave:i[8]||(i[8]=a=>l.isHoveringItem=null)},[l.editableFields&&l.editableFields.includes(e.originalKey)&&!l.state.editMode&&l.state.editingField!==e.key?(s(),g(K,{key:0,class:"absolute ml-[-1.5rem]",name:"edit",size:"xs",color:l.isHoveringItem===e.originalKey?"blue-6":"blue-grey-3"},null,8,["color"])):p("",!0),e.key==="feature"&&!l.state.editMode&&l.state.editingField!==e.key?(s(),r("p",{key:1,class:"feature-list",innerHTML:e.value!==""&&e.value!==null?e.value:"N/A"},null,8,ll)):(e.key==="benefit"||e.key==="Description"||e.originalKey==="InternalNotes")&&!l.state.editMode&&l.state.editingField!==e.key?(s(),r("p",{key:2,innerHTML:e.value!==""&&e.value!==null?e.key==="Description"?l.descriptionHtml:(l.doNotFormatSpacing.includes(e.originalKey),e.value):"N/A"},null,8,al)):e.key==="config"&&!l.state.editMode&&l.state.editingField!==e.key?(s(),r("pre",{key:3,innerHTML:e.value},null,8,nl)):p("",!0)],40,el)):(!e.isLink&&e.type==="string"&&e.key!=="Description"||e.value===null&&e.type!=="boolean"||e.type==="option")&&!l.loading?(s(),r("p",{key:14,class:D(["mt-2 sm:mt-0",e.key!=="Description"?l.editableFields&&l.editableFields.includes(e.originalKey)?e.key==="Name"||e.originalKey==="DocURL"||e.key==="qrconfig"?"col-span-2 mr-8 ml-5 sm:ml-0":"col-span-1 sm:col-span-1 mr-8 ml-5 break-all sm:ml-0":l.doNotFormatSpacing.includes(e.originalKey)?"col-span-2 break-all":"":""]),style:Ae(l.editableFields&&l.editableFields.includes(e.originalKey)?"cursor: pointer":""),onMouseover:a=>l.isHoveringItem=e.originalKey,onMouseleave:i[9]||(i[9]=a=>l.isHoveringItem=null)},[l.editableFields&&l.editableFields.includes(e.originalKey)&&!l.state.editMode&&l.state.editingField!==e.key?(s(),g(K,{key:0,class:"absolute ml-[-1.5rem]",name:"edit",size:"xs",color:l.isHoveringItem===e.originalKey?"blue-6":"blue-grey-3"},null,8,["color"])):p("",!0),!l.state.editMode&&l.state.editingField!==e.key||e.key.includes("At")||!l.editableFields.includes(e.originalKey)?(s(),r("span",{key:1,onClick:a=>l.setEditMode({operation:"single",value:e.key,originalKey:e.originalKey})},v((e.key.includes("Date")||e.key.includes("At"))&&e.originalKey!=="LastReportDate"?e.originalKey==="lastActivityDateTime"?l.formatDateUnix(e.value,1):l.formatDate(e.value):e.value===""||e.value===null?l.customDirective:e.originalKey==="ImplementationTasks"||e.originalKey==="CorporateDomainList"?e.value.map(a=>a.Name?a.Name:a).join(", "):e.value.includes("Hours:Minutes")?e.value.replace("Hours:Minutes","hrs."):e.value),9,il)):p("",!0)],46,sl)):!l.loading&&typeof e.value=="number"&&l.state.editingField!==e.key?(s(),r("p",{key:15,class:D(l.editableFields&&l.editableFields.includes(e.originalKey)?"cursor-pointer":""),onClick:a=>l.setEditMode({operation:"single",value:e.key,originalKey:e.originalKey}),onMouseover:a=>l.isHoveringItem=e.originalKey,onMouseleave:i[10]||(i[10]=a=>l.isHoveringItem=null)},[l.editableFields&&l.editableFields.includes(e.originalKey)&&!l.state.editMode&&l.state.editingField!==e.key?(s(),g(K,{key:0,class:"absolute ml-[-1.5rem]",name:"edit",size:"xs",color:l.isHoveringItem===e.originalKey?"blue-6":"blue-grey-3"},null,8,["color"])):p("",!0),!l.state.editMode&&l.state.editingField!==e.key||!l.editableFields.includes(e.originalKey)?(s(),r("span",tl,v(e.key.includes("Duration")||e.originalKey.includes("Hours")?e.value+"  hrs.":e.key.includes("percent")?e.value+"%":e.key.includes("Date")?l.formatDate(e.value):e.key.includes("Unit")||e.key.includes("unit")||e.key.includes("Total")?l.formatTotal(e.value):e.key==="priority"?l.PriorityLevels.find(a=>a.value===e.value).Name+" ( "+(e.value+1)+" )":e.value),1)):p("",!0)],42,ol)):Array.isArray(e.value)?(s(),r("p",rl,[(s(!0),r(B,null,H(e.value,(a,I)=>(s(),r("span",{key:I,class:"mr-3"},v(a)+" "+v(I!==e.value.length-1?",":""),1))),128))])):p("",!0),!l.loading&&(e.type==="boolean"||e.originalKey==="ProjectCentralStatus")?(s(),r("div",{key:17,class:D(["flex items-center mt-1 sm:mt-0 col-span-1 sm:col-span-1 cursor-pointer",l.editableFields&&l.editableFields.includes(e.originalKey)?"ml-5 sm:ml-0":""]),onMouseover:a=>l.isHoveringItem=e.originalKey,onMouseleave:i[11]||(i[11]=a=>l.isHoveringItem=null)},[l.editableFields&&(l.editableFields.includes(e.originalKey)||e.originalKey==="IsDraft")&&!l.state.editMode&&l.state.editingField!==e.key?(s(),g(K,{key:0,class:"absolute ml-[-1.5rem]",name:"edit",size:"xs",color:l.isHoveringItem===e.originalKey?"blue-6":"blue-grey-3"},null,8,["color"])):p("",!0),!l.state.editMode&&l.state.editingField!==e.key&&(e.key==="Is Deprecated"||e.key==="Is Active"||e.key==="is Active"||e.key==="Active"||e.originalKey==="isDraft"||e.originalKey==="IsDraft"||e.key==="Is Draft"||e.originalKey.includes("report")||e.originalKey.includes("Scan")||e.originalKey.includes("discovery")||e.originalKey.includes("ProjectCentralStatus")||e.originalKey.includes("canClientPortalUserCompleteTask")||e.originalKey.includes("isTaskBillable")||e.originalKey.includes("isVisibleInClientPortal"))?(s(),g(K,{key:1,name:e.key==="Is Deprecated"||e.key==="Is Draft"||e.originalKey==="isDraft"?e.value?"cancel":"check_circle":e.value?"check_circle":"cancel",class:D([e.key==="Is Deprecated"||e.key==="Is Draft"||e.originalKey==="isDraft"?e.value?"text-red":"text-green":e.value?"text-green":"text-red","mr-2"]),size:"xs"},null,8,["name","class"])):p("",!0),e.key==="Is Deprecated"||e.key.includes("Active")||e.key==="Is Draft"||e.originalKey==="isDraft"||e.originalKey==="IncludeByDefault"||e.type==="boolean"?(s(),r("p",{key:2,class:D(l.editableFields&&l.editableFields.includes(e.originalKey)?"cursor-pointer":""),onClick:a=>l.setEditMode({operation:"single",value:e.key,originalKey:e.originalKey})},[e.key!=="Is Draft"&&e.originalKey!=="isDraft"&&!l.state.editMode&&l.state.editingField!==e.key&&e.originalKey!=="SkillTier"?(s(),r("span",yl,v(e.key==="Is Deprecated"?e.value?"Deprecated":"Active":e.originalKey==="IncludeByDefault"||e.originalKey==="isCustomerTask"||e.originalKey==="IsRecurring"||e.originalKey.includes("report")||e.originalKey.includes("Scan")||e.originalKey.includes("hideFromWebsite")||e.originalKey.includes("discovery")?e.value?"Yes":"No":e.value?"Active":"Deprecated"),1)):!l.state.editMode&&l.state.editingField!==e.key?(s(),r("span",pl,v(e.value===!0||e.value==="No"?"Draft":e.value===!1||e.value===null?"Active":e.value),1)):p("",!0)],10,ul)):p("",!0)],42,dl)):l.state.editingField!==e.key&&e.type==="link"&&e.key!=="Download"?(s(),r("a",{key:18,href:e.value,class:"text-blue-500 underline w-full col-span-2 break-all"},v(e.value),9,gl)):l.state.editingField!==e.key&&e.key==="Download"?(s(),g(b,{key:19,icon:"download",flat:"",color:"primary",href:e.value,size:"md",dense:"",class:"w-20 px-0 mx-0"},{default:y(()=>[...i[21]||(i[21]=[m("Download",-1)])]),_:1},8,["href"])):p("",!0)],2)]))),128)),l.state.editMode?(s(),r("div",cl,[c(b,{color:"red",flat:"",label:"Cancel","no-caps":"",class:"mr-5",onClick:i[12]||(i[12]=e=>l.setEditMode({operation:"multi",value:!1}))}),c(b,{color:"primary",label:"Save Changes","no-caps":"",class:"mt-3 mb-3 mr-[3.7rem]",onClick:i[13]||(i[13]=e=>l.saveChanges({scope:"multiple",item:l.item}))},{default:y(()=>[c(K,{name:"edit",size:"xs",color:"white",class:"ml-3"})]),_:1})])):p("",!0)])]),l.isAdminRoute?(s(),r("div",fl,[k("div",kl,[k("div",null,[i[22]||(i[22]=k("p",{class:"text-slate-400 italic"},"Created At",-1)),l.loading?(s(),g(A,{key:1,class:"h-3 w-1/2 mt-2","animation-speed":800})):(s(),r("p",vl,v(l.formatDate(l.response?.created_at)),1))]),k("div",bl,[k("div",null,[i[23]||(i[23]=k("p",{class:"text-slate-400 italic mr-10"},"Created By",-1)),l.loading?(s(),g(A,{key:1,class:"h-3 w-1/2 mt-2","animation-speed":1e3})):(s(),r("p",ml,v(l.response?.created_by??"N/A"),1))])])]),k("div",Kl,[k("div",hl,[i[24]||(i[24]=k("p",{class:"text-slate-400 italic"},"Last Updated At",-1)),l.loading?(s(),g(A,{key:1,class:"h-3 w-1/2 mt-2","animation-speed":900})):(s(),r("p",Dl,v(l.formatDate(l.response?.updated_at)),1))]),k("div",Fl,[k("div",null,[i[25]||(i[25]=k("p",{class:"text-slate-400 italic mr-10"},"Last Updated By",-1)),l.loading?(s(),g(A,{key:1,class:"h-3 w-1/2 mt-2","animation-speed":800})):(s(),r("p",Il,v(l.response?.updated_by??"N/A"),1))])])])])):p("",!0)]),_:3},8,["class"])}const Bl=we(Ue,[["render",Cl]]);export{Bl as Q};
